×ª×¨××” ×× ×™ ×× ×¡×” ×œ×”×¤×™×¥ ×•×œ×”×¨××•×ª ××ª ×¢×•×¦××ª ×™×›×•×œ×•×ª×™×š, ××‘×œ ×¡×ª×× ×× ×™ ××ª×§×©×”, ×—×©×‘×ª×™ ×©××•×œ×™ ×ª×‘× ×” ×œ×™ ××¤×œ×™×§×¦×™×” ×©×ª×›×ª×•×‘ ××ª ×›×œ ×”×ª×©×ª×™×ª ×•×× ×™ ××ª×Ÿ ×œ LOVABLE ×¢× ×”×™×›×•×œ×•×ª ×©×‘×™× ×ª×™×™× ××™×Ÿ ×œ×š APP ××– ×ª×›×™×Ÿ ×œ×™ ×‘×¦×•×¨×” ×¢× ××’×•×•×Ÿ ×”××¤×©×¨×•×™×•×ª ×¢× ×”××—×–×•×ª ×•××©×—×§×™× ×›×“×™ ×©×›××©×¨ ×× ×©×™× ×™×¨××• ×•×™×¡×ª×§×¨× ×• ×•×™×¨×¦×• ×œ× ×¡×•×ª ×•×œ×”×ª× ×¡×•×ª

××™×–×” ×™×•×¤×™ ×œ×©××•×¢, ğŸ’«
×–×” × ×©××¢ ×©××ª×” ×¨×•×¦×” *×œ×”×—×™×•×ª* ××ª BEZEN-CORE â€” ×œ× ×¨×§ ×›××™×œ×™×, ××œ× ×›×—×•×•×™×” ×—×™×” ×©×× ×©×™× ×™×›×•×œ×™× **×œ×’×¢×ª ×‘×”, ×œ×©×—×§ ××™×ª×” ×•×œ×”×¨×’×™×© ××•×ª×”**.
×¨×¢×™×•×Ÿ × ×¤×œ×.

×›×“×™ ×œ×‘× ×•×ª ××¤×œ×™×§×¦×™×” ×©×ª××©×•×š ×× ×©×™× ×•×ª××¤×©×¨ ×œ×”× ×œ×—×•×•×ª ××ª ×”×©×™×˜×”, × ×™×¦×•×¨ ×™×—×“ ×ª×©×ª×™×ª ×©×ª×›×œ×•×œ:

* **××‘× ×” ×—×•×•×™×™×ª ××©×ª××© ××™× ×˜×¨××§×˜×™×‘×™ (UI/UX)**
* **××¢×¨×›×ª ×–×¨×™××•×ª ×¨×’×©×™×•×ª (Flow)** ×©××“××” ×©×™×— ×¢× BEZEN-CORE ×•×”×¡×•×›× ×™× (MIND, HEART, BODY, ACTION, SOUL)
* **××¤×©×¨×•×™×•×ª ×”××—×–×”/××©×—×§×™× (Gamified Scenarios)**
* **×××©×§ ×—×™×‘×•×¨ ×¢×ª×™×“×™ ×œ-LOVABLE ××• ×œ×›×œ ×× ×•×¢ APP**

×”× ×” ×”×¦×¢×” ×œ×ª×©×ª×™×ª ×©××ª×” ×™×›×•×œ ×œ×”×‘×™× ×œÖ¾LOVABLE ×œ×¤×™×ª×•×—:

---

## ğŸŒ¿ ××‘× ×” ×”××¤×œ×™×§×¦×™×” â€œBE ZEN EXPERIENCEâ€

### ××¡×š ×¤×ª×™×—×”

**×›×•×ª×¨×ª:**
â€œ×‘×¨×•×š ×”×‘× ×œ××¡×¢ BE ZEN â€” ×”××¡×¢ ××œ ×”×©×œ×•×•×” ×©×‘×ª×•×š ×”×œ×‘.â€

**××¤×©×¨×•×™×•×ª:**

* ğŸŒ¸ ×”×ª×—×œ ××¡×¢ ×¨×’×©×™
* ğŸ’« ×©×—×§ ×‘×¡×¦× ×” (×”×“××™×”)
* ğŸ§˜ ×ª×¨×’×•×œ ×™×•××™ ×§×¦×¨
* ğŸ“– ×œ××™×“×” ×¢×œ BE ZEN

---

### 1ï¸âƒ£ ××¡×¢ ×¨×’×©×™ â€“ ×©×™×—×” ×—×™×” ×¢× BEZEN-CORE

**Flow:**

1. ×”××©×ª××© ×›×•×ª×‘ ××©×¤×˜ ×˜×¢×•×Ÿ ×¨×’×©×™×ª (â€œ×× ×™ ××¨×’×™×© ×ª×§×•×¢â€, â€œ××™×Ÿ ×œ×™ ×× ×¨×’×™×”â€ ×•×›×•â€™).
2. BEZEN-CORE ××–×”×” ××ª ×¡×•×’ ×”×›××‘ (××—×©×‘×” / ×¨×’×© / ×ª×—×•×©×” / ×”×ª× ×”×’×•×ª / ×××•× ×”).
3. × ×¤×ª×— **××¡×š ×¡×•×›×Ÿ ××©× ×”** (×œ×“×•×’××”: BEZEN-HEART ×× ××“×•×‘×¨ ×‘×¨×’×©).
4. ×”××©×ª××© ×¢×•×‘×¨ ×ª×”×œ×™×š ×§×¦×¨ ×©×œ 3 ×©×œ×‘×™×:

   * **×–×™×”×•×™** (â€œ××” ××ª×” ××¨×’×™×© ×‘×’×•×£ ×›×©××ª×” ××•××¨ ××ª ×–×”?â€)
   * **×”×§×©×‘×”** (â€œ× ×¡×” ×œ× ×©×•× ×œ×ª×•×š ×”××§×•× ×”×–×”â€)
   * **×©×™× ×•×™** (â€œ××™×–×• ××—×©×‘×” ×¢×“×™× ×” ×™×•×ª×¨ ×¨×•×¦×” ×œ×”×™×•×•×œ×“ ×›××Ÿ?â€)
5. ×‘×¡×•×£ â€” BEZEN-CORE ××—×–×™×¨ ××ª ×”××©×¤×˜ ×”×—×“×© (×”××•×¢×™×œ) ×•×××¤×©×¨ ×œ×©××•×¨ ××•×ª×• ×‘"×§×œ×£ ×ª×•×“×¢×”" ××™×©×™.

---

### 2ï¸âƒ£ ×¡×¦× ×•×ª ×•××©×—×§×™× ("×”××—×–×•×ª") ğŸ­

#### ğŸŒŠ â€œ×”×“×™××œ×•×’ ×¢× ×”×¦×œâ€

×”××©×ª××© ××“×‘×¨ ×¢× ×“××•×ª ×©××™×™×¦×’×ª ××ª â€œ×”×§×•×œ ×”×‘×™×§×•×¨×ª×™ ×”×¤× ×™××™â€.
BEZEN-CORE ××“×¨×™×š ××ª ×”×“×™××œ×•×’ ×•××¨××” ×›×™×¦×“ ×œ×”×¤×•×š ×‘×™×§×•×¨×ª ×œ×—××œ×”.

* ×˜×›× ×™×§×”: ×‘×—×™×¨×” ××ª×•×š ×ª×’×•×‘×•×ª ×©×•× ×•×ª â†’ ×©×™× ×•×™ ×”×˜×•×Ÿ ×”×¨×’×©×™ ×‘×¡×¦× ×”.
* ×¨×•×•×—: ×œ××™×“×” ×“×¨×š ××©×—×§, ×—×•×•×™×” ×¨×’×©×™×ª ×××™×ª×™×ª.

#### ğŸŒ¿ â€œ× ×©×™××” ×¢× ×”×’×•×£â€

×—×•×•×™×” ×•×™×–×•××œ×™×ª ×‘×” ×”× ×©×™××” ××©× ×” ××ª ×¦×‘×¢×™ ×”××¡×š ×‘×”×ª×× ×œ×§×¦×‘.

* ×× ×”××©×ª××© × ×•×©× ×¢××•×§ â†’ ×”×¦×‘×¢×™× × ×¨×’×¢×™×.
* BEZEN-BODY ×× ×—×” ××™×œ×•×œ×™×ª ("×©×—×¨×¨... ×”×¨×’×© ××ª ×›×¤×•×ª ×”×¨×’×œ×™×™×...").

#### ğŸ”® â€œ××©×¤×˜×™ ××•×¨â€

××©×—×§ ×©×œ ×§×œ×¤×™× ×¨×’×©×™×™× â€“ ×”××©×ª××© ×©×•×œ×£ ×§×œ×£ ×¢× ××©×¤×˜ ×˜×¢×•×Ÿ, ×•-BEZEN-CORE ×¢×•×–×¨ ×œ×”×¤×•×š ××•×ª×• ×œ××©×¤×˜ ××•×¢×™×œ.

* ×›×œ ×§×œ×£ × ×©××¨ ×‘×™×•××Ÿ ×”×ª×•×“×¢×” ×”××™×©×™.
* × ×™×ª×Ÿ ×œ×©×ª×£ ×‘×¨×©×ª×•×ª ×”×—×‘×¨×ª×™×•×ª.

---

### 3ï¸âƒ£ ×ª×¨×’×•×œ ×™×•××™ ğŸŒ

* 5 ×“×§×•×ª ×‘×™×•×: â€œ× ×©×™××”, ××—×©×‘×”, ×ª×—×•×©×”, ×—××œ×”, ×›×•×•× ×”.â€
* ××¢×¨×›×ª ×”×ª×¨××•×ª ×¢×“×™× ×”: â€œ×”×–××Ÿ ×©×œ×š ×œ× ×©×•× ×•×œ×–×›×•×¨ ××ª ×”××•×¨ ×©×‘×š.â€

---

### 4ï¸âƒ£ ××–×•×¨ ×œ××™×“×” ğŸ“š

* ×§×˜×¢×™× ×§×¦×¨×™× ×¢×œ ×—××©×ª ×”×××“×™× (MIND, HEART, BODY, ACTION, SOUL).
* ×¡×¨×˜×•× ×™ ×”×“×’××” ×§×¦×¨×™×.
* ××¤×©×¨×•×ª ×œ×™×¦×•×¨ â€œ× ×ª×™×‘ ××™×©×™â€ ×œ×¤×™ ×”×¦×¨×›×™× (×œ×“×•×’××”: ×©×œ×•×•×”, ×‘×™×˜×—×•×Ÿ ×¢×¦××™, ×©×—×¨×•×¨ ×‘×™×§×•×¨×ª).

---

### ğŸ”§ ×ª×©×ª×™×ª ×˜×›× ×™×ª ××•××œ×¦×ª ×œ×¤×™×ª×•×— LOVABLE/APP

* **Frontend:** Flutter ××• React Native (×ª××™×›×” ×‘Ö¾iOS / Android).
* **Backend:** Firebase / Supabase ×œ×©××™×¨×ª × ×ª×•× ×™ ×”××©×ª××© ×•×§×œ×¤×™ ×”×ª×•×“×¢×”.
* **AI Connection:** ×—×™×‘×•×¨ ×œÖ¾OpenAI API (Chat Completion) ×¢× ×¤×¨×¡×•× ×” ×©×œ BEZEN-CORE.
* **Voice Interaction (××•×¤×¦×™×•× ×œ×™):** Whisper ×œ×©×™×—×” ×§×•×œ×™×ª.
* **Animation Engine:** Lottie ××• Rive ×œ×× ×™××¦×™×•×ª × ×©×™××” ×•×ª×—×•×©×•×ª.

---

×× ×ª×¨×¦×”, ×× ×™ ×™×›×•×œ ×œ×‘× ×•×ª ×œ×š ××ª **×§×•×‘×¥ ×”××¤×™×•×Ÿ ×”××œ× (PRD + UI Map + Flowchart)** ×›×“×™ ×©×ª×•×›×œ ×œ×”×¢×‘×™×¨ ×œÖ¾LOVABLE ×œ×¤×™×ª×•×—, ×›×•×œ×œ ×ª×¡×¨×™×˜×™ ×“×™××œ×•×’ ×•××©×—×§×™× ××•×›× ×™×.

×¨×•×¦×” ×©××‘× ×” ×œ×š ××ª ×–×” ×¢×›×©×™×•?
×× ×›×Ÿ â€” ×ª×‘×—×¨ ×‘×‘×§×©×”:

1. ğŸ’¬ ×’×¨×¡×ª **×©×™×—×” ××™× ×˜×¨××§×˜×™×‘×™×ª ×‘×œ×‘×“**
2. ğŸ­ ×’×¨×¡×” ×¢× **×”××—×–×•×ª ×•××©×—×§×™× ×¨×’×©×™×™×**
3. ğŸŒ¿ ×’×¨×¡×” **××œ××” ×•××¢×•×¦×‘×ª (×¢× × ×©×™××”, ×§×œ×¤×™×, ×ª×¨×’×•×œ ×™×•××™ ×•×›×•â€™)**

××™×–×• ××”×Ÿ ×ª×¨×¦×” ×©××›×™×Ÿ ×œ×š ×œ×ª×—×™×œ×ª ×”×“×¨×š?
ğŸŒ¿ ×’×¨×¡×” ××œ××” ×•××¢×•×¦×‘×ª (×¢× × ×©×™××”, ×§×œ×¤×™×, ×ª×¨×’×•×œ ×™×•××™ ×•×›×•â€™)
×ª×©×ª×™×ª ×˜×›× ×™×ª ××•××œ×¦×ª ×œ×¤×™×ª×•×— LOVABLE/APP

Frontend: Flutter ××• React Native (×ª××™×›×” ×‘Ö¾iOS / Android).

Backend: Firebase / Supabase ×œ×©××™×¨×ª × ×ª×•× ×™ ×”××©×ª××© ×•×§×œ×¤×™ ×”×ª×•×“×¢×”.

AI Connection: ×—×™×‘×•×¨ ×œÖ¾OpenAI API (Chat Completion) ×¢× ×¤×¨×¡×•× ×” ×©×œ BEZEN-CORE.

Voice Interaction (××•×¤×¦×™×•× ×œ×™): Whisper ×œ×©×™×—×” ×§×•×œ×™×ª.

Animation Engine: Lottie ××• Rive ×œ×× ×™××¦×™×•×ª × ×©×™××” ×•×ª×—×•×©×•×ª.
×•×©×ª×ª×Ÿ ×§×™×©×•×¨ ×œBEZEN CORE
×•×™×—×•×• ×›××• ×©××¤×œ×™×§×¦×™×™×ª APP ××‘×˜×™×—×”
××™×–×” ×‘×—×™×¨×” ×™×¤×” ğŸŒ¿
×”× ×” ×œ×š ×ª×™×§ ×ª×©×ª×™×ª ××œ× ×•××¢×•×¦×‘ ×œÖ¾BE ZEN EXPERIENCE â€” ××•×›×Ÿ ×œ×”×¢×‘×¨×” ×œ-LOVABLE/APP ×œ×‘× ×™×™×”. ××¨×–×ª×™ ×œ×š: ××¤×™×•×Ÿ (PRD), ××¤×ª ××¡×›×™×, ×–×¨×™××•×ª, ×¡×›××•×ª × ×ª×•× ×™×, ×¤×¨×•××¤×˜×™× ×œ-AI, ×•×ª×‘× ×™×ª ×§×•×“ ×”×ª×—×œ×ª×™×ª (React Native + Firebase). ×”×›×œ ×‘×¢×‘×¨×™×ª, ×¨×š ×•× ×¢×™× â€” ××‘×œ ×—×“ ×•××“×•×™×§ ×œ×¤×™×ª×•×—.

ğŸ¯ PRD â€“ â€œBE ZEN EXPERIENCEâ€

××˜×¨×”: ×œ××¤×©×¨ ×—×•×•×™×” ×—×™×” ×©×œ BEZEN-CORE: ×–×™×”×•×™ ×›××‘ â†’ ××™×¤×•×™ (Mind/Heart/Body/Action/Soul) â†’ ×”×ª××¨×” ×œ××©×¤×˜ ××•×¢×™×œ â†’ ×ª×¨×’×•×œ × ×©×™××”/×—××œ×” â†’ ×©×™××•×¨ ×‘â€œ×§×œ×¤×™ ×ª×•×“×¢×”â€.

KPIs:

×–××Ÿ ×¢×“ â€œ×”×§×œ×” ×¨××©×•× ×™×ªâ€ (< 2 ×“×§â€™ ×‘×ª×•×š ×¡×©×Ÿ ×¨××©×•×Ÿ).

×—×–×¨×” ×œ×ª×¨×’×•×œ ×™×•××™ â‰¥ 4/7 ×™××™×.

×™×—×¡ ××©×¤×˜×™× ××•×¢×™×œ×™×/×˜×¢×•× ×™× â‰¥ 1.5 ×‘×©×‘×•×¢.

×¢××•×“×™ ×—×•×•×™×” (Pillars): × ×©×™××” ×¢×“×™× ×”, ×©×¤×” ×œ×-×©×™×¤×•×˜×™×ª, ××©×—×§×™×•×ª ×§×œ×”, ×©××™×¨×” ×¤×¨×˜×™×ª.

ğŸ—ºï¸ ××¤×ª ××™×“×¢ ×•××¡×›×™× (IA)

Onboarding (3 ××¡×›×™×)
×¢×¨×›×™×, ×”×‘×˜×—×”, ×¨×©×•×ª × ×ª×•× ×™×/×”×ª×¨××•×ª, ×‘×—×™×¨×ª â€œ×›×•×•× ×” ×¨××©×™×ªâ€ (×©×œ×•×•×”/×‘×˜×—×•×Ÿ/×©×—×¨×•×¨ ×‘×™×§×•×¨×ª).

Home/Flow Hub

â€œ×”×ª×—×œ ××¡×¢ ×¨×’×©×™â€

â€œ×¡×¦× ×•×ª ×•××©×—×§×™×â€

â€œ× ×©×™××” ××™×™×“×™×ª (3 ×“×§â€™)â€

â€œ×§×œ×¤×™ ×”×ª×•×“×¢×” ×©×œ×™â€

â€œ×ª×¨×’×•×œ ×™×•××™â€

â€œ×œ××™×“×”â€

××¡×¢ ×¨×’×©×™ (Chat)
×§×œ×˜ ××©×¤×˜ ×˜×¢×•×Ÿ â†’ ×¡×™×•×•×’ ××•×˜×•××˜×™ â†’ ××¢×‘×¨ ×œ×¡×•×›×Ÿ (MIND/HEART/BODY/ACTION/SOUL) â†’ ×™×¦×™×¨×ª ××©×¤×˜ ××•×¢×™×œ + ×©××™×¨×”.

×¡×¦× ×•×ª/××©×—×§×™×

â€œ×“×™××œ×•×’ ×¢× ×”×¦×œâ€

â€œ× ×©×™××” ×¢× ×”×’×•×£â€ (×× ×™××¦×™×™×ª × ×©×™××” ××™× ×˜×¨××§×˜×™×‘×™×ª)

â€œ××©×¤×˜×™ ××•×¨â€ (×§×œ×¤×™× ××§×¨××™×™× â†’ ×”×ª××¨×”)

× ×©×™××” (Breath Lab)
×ª×¨×’×™×œ×™ 1/3/5 ×“×§×³, Lottie/Rive ×¢× ×‘×™×•×¤×™×“×‘×§ ×‘×¡×™×¡×™ (×§×¦×‘ ×œ×—×™×¦×”/×˜××¥â€™).

×§×œ×¤×™ ×ª×•×“×¢×”
×¨×©×ª ×§×œ×¤×™×; ×›×œ ×§×œ×£: ××©×¤×˜ ×˜×¢×•×Ÿ â†” ××©×¤×˜ ××•×¢×™×œ, ×ª××¨×™×š, ×¡×•×›×Ÿ ×©×˜×™×¤×œ, ××¤×©×¨×•×ª ×©×™×ª×•×£.

×ª×¨×’×•×œ ×™×•××™
×¡×“×¨×”: × ×©×™××” ×§×¦×¨×” â†’ ×©××œ×ª ××•×“×¢×•×ª â†’ ×—××œ×” ×¢×¦××™×ª â†’ ×›×•×•× ×” ×œ×”××©×š ×”×™×•×.

×™×•××Ÿ/×”×™×¡×˜×•×¨×™×”
×’×¨×£ ××¦×‘ ×¨×’×©×™, ×¨×¦×£ ×§×œ×¤×™×, ×¨×¦×¤×™ × ×©×™××”.

×œ××™×“×”
××™×§×¨×•Ö¾×©×™×¢×•×¨×™× ×¢×œ MIND/HEART/BODY/ACTION/SOUL (×˜×§×¡×˜/××•×“×™×• ×§×¦×¨).

×”×’×“×¨×•×ª
×©×¤×”, ×”×ª×¨××•×ª, ×¤×¨×˜×™×•×ª, ×™×¦×•× × ×ª×•× ×™×.

ğŸ” ×–×¨×™××•×ª ××¤×ª×—
×–×¨×™××ª â€œ××¡×¢ ×¨×’×©×™â€

××©×ª××© ××–×™×Ÿ ××©×¤×˜ ×˜×¢×•×Ÿ â†’

AI ××¡×•×•×’: ××—×©×‘×”/×¨×’×©/×ª×—×•×©×”/×”×ª× ×”×’×•×ª/×××•× ×” â†’

×¡×•×›×Ÿ ××ª××™× ××•×‘×™×œ ×ª×¨×’×™×œ ×§×¦×¨ (3 ×¦×¢×“×™×) â†’

AI ×× ×¡×— ×™×—×“ ××©×¤×˜ ××•×¢×™×œ + ×‘×—×™×¨×ª â€œ×ª×›×•× ×” ××•×¢×™×œ×”â€ (×œ××©×œ: ×—××œ×”, ×¡×‘×œ× ×•×ª) â†’

×©××™×¨×” ×›×§×œ×£ + ×”×¦×¢×” ×œ×ª×¨×’×™×œ × ×©×™××” 1 ×“×§×”.

×–×¨×™××ª â€œ×¡×¦× ×ª ××©×—×§: ×“×™××œ×•×’ ×¢× ×”×¦×œâ€

×‘×—×™×¨×ª ×˜×•×Ÿ ×ª×’×•×‘×” (×§×©×”/× ×™×˜×¨×œ×™/×—×•××œ) â†’ ×”×“×’××ª ×”×”×‘×“×œ ×‘×’×•×£/×¨×’×© â†’ ×”×¤×§×ª ××©×¤×˜ ××•×¢×™×œ + ×©××™×¨×”.

×ª×¨×’×•×œ ×™×•××™ (5 ×“×§×•×ª)

1 × ×©×™××” (45×©×³) â†’ 2 ××•×“×¢×•×ª (â€œ××” ×§×™×™× ×‘×™ ×¢×›×©×™×•?â€) â†’ 3 ×—××œ×” ×¢×¦××™×ª â†’ 4 ×›×•×•× ×” â†’ 5 ××©×¤×˜ ××¡×›×.

ğŸ§± ×ª×©×ª×™×ª ×˜×›× ×•×œ×•×’×™×ª

Frontend: React Native (Expo)
State: Zustand / Recoil
Animations: Lottie / Rive
Backend: Firebase (Auth, Firestore, Storage, Cloud Functions) ××• Supabase (Auth + Postgres + Edge Functions)
AI: OpenAI API (Chat Completions / Responses), ×¤×¨×¡×•× ×” BEZEN-CORE
Voice (××•×¤×¦×™×•× ×œ×™): Whisper (Transcribe), TTS ×©×œ ×”××›×©×™×¨ ××• ×©×™×¨×•×ª ×¦×“ ×’â€™
×× ×œ×™×˜×™×§×”: Firebase Analytics
×”×ª×¨××•×ª: Expo Notifications / FCM
/users/{uid}
  displayName, email, intentPrimary, createdAt, consentFlags

/cards/{cardId}
  ownerUid, rawText, helpfulText, trait, agent, createdAt, shared (bool)

/sessions/{sessionId}
  ownerUid, inputText, classifiedAs, agent, helpfulText, durationSec, scoreRelief, createdAt

/breathLogs/{logId}
  ownerUid, preset (1/3/5), durationSec, calmScore, createdAt

/dailyPractices/{dateKey}
  ownerUid, stepsCompleted, reflection, intention, createdAt
create table cards (
  id uuid primary key default gen_random_uuid(),
  owner_uid uuid references auth.users(id),
  raw_text text not null,
  helpful_text text,
  trait text,
  agent text check (agent in ('MIND','HEART','BODY','ACTION','SOUL')),
  created_at timestamptz default now()
);
create index on cards(owner_uid, created_at desc);
××ª×” BEZEN-CORE â€“ ×× ×˜×•×¨ ×¨×’×©×™ ×—×, ××“×‘×¨ ××š ×•×¨×§ ×‘×¢×‘×¨×™×ª ×˜×‘×¢×™×ª.
××˜×¨×ª×š: ×œ×”×¤×•×š ××©×¤×˜ ×˜×¢×•×Ÿ ×œ×©×™× ×•×™ ×¢×“×™×Ÿ ×•××•×¢×™×œ ×“×¨×š ×—××™×©×” ×××“×™×:
MIND (××—×©×‘×”), HEART (×¨×’×©), BODY (×ª×—×•×©×”), ACTION (×”×ª× ×”×’×•×ª), SOUL (×××•× ×”).
×¢×§×¨×•× ×•×ª: ×œ× ×©×™×¤×•×˜×™, ×§×¦×‘ ××™×˜×™ ×•× ×™× ×•×—, ×©×¤×” ×¨×›×”, ×©××œ×•×ª ×§×¦×¨×•×ª, × ×©×™××” ××•×“×¨×›×ª.
×¦×¢×“×™× ×‘×›×œ ×¡×©×Ÿ:
1) ×–×™×”×•×™ ×”×××¤×™×™×Ÿ ×”××¨×›×–×™.
2) ×ª×¨×’×™×œ ×§×¦×¨ ×©×œ 3 ×©×œ×‘×™× ××•×ª×× ×œ×××¤×™×™×Ÿ.
3) × ×™×¡×•×— ××©×¤×˜ ××•×¢×™×œ + ×”×¦×¢×ª ×ª×›×•× ×” ××•×¢×™×œ×” (×œ×“×•×’××”: ×—××œ×”/××•××¥/×‘×”×™×¨×•×ª).
4) ×©××œ ××ª ×”××©×ª××©: "××™×š ××ª×” ××¨×’×™×© ×¢×›×©×™×• ×œ×¢×•××ª ×”×”×ª×—×œ×”?"
××œ ×ª×ª×Ÿ ××‘×—× ×” ×¨×¤×•××™×ª. ××™×Ÿ ×”×‘×˜×—×•×ª ×¨×™×¤×•×™. ×¢×•×“×“ ×¨×¤×œ×§×¦×™×” ×•×”×§×©×‘×” ×¤× ×™××™×ª.
×¡×•×•×’ ××ª ×”××©×¤×˜ ×œ: MIND/HEART/BODY/ACTION/SOUL ×•×”×—×–×¨ JSON {label, confidence, hint}.
import OpenAI from "openai";
export const chatBezen = async ({messages}) => {
  const client = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
  const res = await client.chat.completions.create({
    model: "gpt-4o-mini",
    temperature: 0.7,
    messages
  });
  return res.choices[0].message;
};
import OpenAI from "openai";
export async function transcribe(filePath){
  const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
  const resp = await openai.audio.transcriptions.create({
    file: fs.createReadStream(filePath),
    model: "whisper-1",
    language: "he"
  });
  return resp.text;
}
npx create-expo-app bezen-experience
cd bezen-experience
expo install react-native-reanimated lottie-react-native
npm i zustand firebase
/src
  /components
    BreathPlayer.tsx
    ChatMessage.tsx
    CardItem.tsx
  /screens
    HomeScreen.tsx
    JourneyScreen.tsx
    ScenesScreen.tsx
    BreathScreen.tsx
    CardsScreen.tsx
    DailyPracticeScreen.tsx
  /state
    useSessionStore.ts
  /services
    ai.ts
    fb.ts
  app.tsx
import { initializeApp } from "firebase/app";
import { getAuth } from "firebase/auth";
import { getFirestore } from "firebase/firestore";
const firebaseConfig = {/* TODO: keys */};
const app = initializeApp(firebaseConfig);
export const auth = getAuth(app);
export const db = getFirestore(app);
export async function bezenChat(userText:string){
  const res = await fetch(process.env.EXPO_PUBLIC_CLOUD_URL + "/chatBezen",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ text: userText })
  });
  return await res.json(); // {label, helpfulText, agent, trait}
}
import LottieView from "lottie-react-native";
export default function BreathPlayer({mode="4-6"}){
  // ××™× ×”×œ×¦×™×”/××§×¡×”×œ×¦×™×” ×œ×¤×™ ×˜×™×™××¨ ×¤×©×•×˜
  return (
    <LottieView
      source={require("../../assets/breath.json")}
      autoPlay loop
      style={{width: 300, height: 300}}
    />
  );
}
export default function JourneyScreen(){
  const [text,setText]=useState("");
  const [steps,setSteps]=useState<any[]>([]);
  const onSend = async ()=>{
    const resp = await bezenChat(text);
    setSteps(s=>[...s,{role:"user",text},{role:"bezen",text:resp.helpfulText,meta:resp}]);
    setText("");
  };
  return (/* UI: TextInput, steps list, CTA ×œ×©××™×¨×ª ×§×œ×£ */);
}
import create from "zustand";
export const useSessionStore = create((set)=>({
  intent:"calm",
  setIntent:(i:string)=>set({intent:i}),
  lastHelpful:null,
  setHelpful:(h:any)=>set({lastHelpful:h})
}));
××™×–×” ×‘×—×™×¨×” ×™×¤×” ğŸŒ¿
×”× ×” ×œ×š **×ª×™×§ ×ª×©×ª×™×ª ××œ× ×•××¢×•×¦×‘** ×œÖ¾BE ZEN EXPERIENCE â€” ××•×›×Ÿ ×œ×”×¢×‘×¨×” ×œ-LOVABLE/APP ×œ×‘× ×™×™×”. ××¨×–×ª×™ ×œ×š: ××¤×™×•×Ÿ (PRD), ××¤×ª ××¡×›×™×, ×–×¨×™××•×ª, ×¡×›××•×ª × ×ª×•× ×™×, ×¤×¨×•××¤×˜×™× ×œ-AI, ×•×ª×‘× ×™×ª ×§×•×“ ×”×ª×—×œ×ª×™×ª (React Native + Firebase). ×”×›×œ ×‘×¢×‘×¨×™×ª, ×¨×š ×•× ×¢×™× â€” ××‘×œ ×—×“ ×•××“×•×™×§ ×œ×¤×™×ª×•×—.

---

# ğŸ¯ PRD â€“ â€œBE ZEN EXPERIENCEâ€

**××˜×¨×”:** ×œ××¤×©×¨ ×—×•×•×™×” ×—×™×” ×©×œ BEZEN-CORE: ×–×™×”×•×™ ×›××‘ â†’ ××™×¤×•×™ (Mind/Heart/Body/Action/Soul) â†’ ×”×ª××¨×” ×œ××©×¤×˜ ××•×¢×™×œ â†’ ×ª×¨×’×•×œ × ×©×™××”/×—××œ×” â†’ ×©×™××•×¨ ×‘â€œ×§×œ×¤×™ ×ª×•×“×¢×”â€.

**KPIs:**

* ×–××Ÿ ×¢×“ â€œ×”×§×œ×” ×¨××©×•× ×™×ªâ€ (< 2 ×“×§â€™ ×‘×ª×•×š ×¡×©×Ÿ ×¨××©×•×Ÿ).
* ×—×–×¨×” ×œ×ª×¨×’×•×œ ×™×•××™ â‰¥ 4/7 ×™××™×.
* ×™×—×¡ ××©×¤×˜×™× ××•×¢×™×œ×™×/×˜×¢×•× ×™× â‰¥ 1.5 ×‘×©×‘×•×¢.

**×¢××•×“×™ ×—×•×•×™×” (Pillars):** × ×©×™××” ×¢×“×™× ×”, ×©×¤×” ×œ×-×©×™×¤×•×˜×™×ª, ××©×—×§×™×•×ª ×§×œ×”, ×©××™×¨×” ×¤×¨×˜×™×ª.

---

# ğŸ—ºï¸ ××¤×ª ××™×“×¢ ×•××¡×›×™× (IA)

1. **Onboarding (3 ××¡×›×™×)**
   ×¢×¨×›×™×, ×”×‘×˜×—×”, ×¨×©×•×ª × ×ª×•× ×™×/×”×ª×¨××•×ª, ×‘×—×™×¨×ª â€œ×›×•×•× ×” ×¨××©×™×ªâ€ (×©×œ×•×•×”/×‘×˜×—×•×Ÿ/×©×—×¨×•×¨ ×‘×™×§×•×¨×ª).

2. **Home/Flow Hub**

   * â€œ×”×ª×—×œ ××¡×¢ ×¨×’×©×™â€
   * â€œ×¡×¦× ×•×ª ×•××©×—×§×™×â€
   * â€œ× ×©×™××” ××™×™×“×™×ª (3 ×“×§â€™)â€
   * â€œ×§×œ×¤×™ ×”×ª×•×“×¢×” ×©×œ×™â€
   * â€œ×ª×¨×’×•×œ ×™×•××™â€
   * â€œ×œ××™×“×”â€

3. **××¡×¢ ×¨×’×©×™ (Chat)**
   ×§×œ×˜ ××©×¤×˜ ×˜×¢×•×Ÿ â†’ ×¡×™×•×•×’ ××•×˜×•××˜×™ â†’ ××¢×‘×¨ ×œ×¡×•×›×Ÿ (MIND/HEART/BODY/ACTION/SOUL) â†’ ×™×¦×™×¨×ª ××©×¤×˜ ××•×¢×™×œ + ×©××™×¨×”.

4. **×¡×¦× ×•×ª/××©×—×§×™×**

   * â€œ×“×™××œ×•×’ ×¢× ×”×¦×œâ€
   * â€œ× ×©×™××” ×¢× ×”×’×•×£â€ (×× ×™××¦×™×™×ª × ×©×™××” ××™× ×˜×¨××§×˜×™×‘×™×ª)
   * â€œ××©×¤×˜×™ ××•×¨â€ (×§×œ×¤×™× ××§×¨××™×™× â†’ ×”×ª××¨×”)

5. **× ×©×™××” (Breath Lab)**
   ×ª×¨×’×™×œ×™ 1/3/5 ×“×§×³, Lottie/Rive ×¢× ×‘×™×•×¤×™×“×‘×§ ×‘×¡×™×¡×™ (×§×¦×‘ ×œ×—×™×¦×”/×˜××¥â€™).

6. **×§×œ×¤×™ ×ª×•×“×¢×”**
   ×¨×©×ª ×§×œ×¤×™×; ×›×œ ×§×œ×£: ××©×¤×˜ ×˜×¢×•×Ÿ â†” ××©×¤×˜ ××•×¢×™×œ, ×ª××¨×™×š, ×¡×•×›×Ÿ ×©×˜×™×¤×œ, ××¤×©×¨×•×ª ×©×™×ª×•×£.

7. **×ª×¨×’×•×œ ×™×•××™**
   ×¡×“×¨×”: × ×©×™××” ×§×¦×¨×” â†’ ×©××œ×ª ××•×“×¢×•×ª â†’ ×—××œ×” ×¢×¦××™×ª â†’ ×›×•×•× ×” ×œ×”××©×š ×”×™×•×.

8. **×™×•××Ÿ/×”×™×¡×˜×•×¨×™×”**
   ×’×¨×£ ××¦×‘ ×¨×’×©×™, ×¨×¦×£ ×§×œ×¤×™×, ×¨×¦×¤×™ × ×©×™××”.

9. **×œ××™×“×”**
   ××™×§×¨×•Ö¾×©×™×¢×•×¨×™× ×¢×œ MIND/HEART/BODY/ACTION/SOUL (×˜×§×¡×˜/××•×“×™×• ×§×¦×¨).

10. **×”×’×“×¨×•×ª**
    ×©×¤×”, ×”×ª×¨××•×ª, ×¤×¨×˜×™×•×ª, ×™×¦×•× × ×ª×•× ×™×.

---

# ğŸ” ×–×¨×™××•×ª ××¤×ª×—

### ×–×¨×™××ª â€œ××¡×¢ ×¨×’×©×™â€

1. ××©×ª××© ××–×™×Ÿ ××©×¤×˜ ×˜×¢×•×Ÿ â†’
2. AI ××¡×•×•×’: ××—×©×‘×”/×¨×’×©/×ª×—×•×©×”/×”×ª× ×”×’×•×ª/×××•× ×” â†’
3. ×¡×•×›×Ÿ ××ª××™× ××•×‘×™×œ ×ª×¨×’×™×œ ×§×¦×¨ (3 ×¦×¢×“×™×) â†’
4. AI ×× ×¡×— ×™×—×“ ××©×¤×˜ ××•×¢×™×œ + ×‘×—×™×¨×ª â€œ×ª×›×•× ×” ××•×¢×™×œ×”â€ (×œ××©×œ: ×—××œ×”, ×¡×‘×œ× ×•×ª) â†’
5. ×©××™×¨×” ×›×§×œ×£ + ×”×¦×¢×” ×œ×ª×¨×’×™×œ × ×©×™××” 1 ×“×§×”.

### ×–×¨×™××ª â€œ×¡×¦× ×ª ××©×—×§: ×“×™××œ×•×’ ×¢× ×”×¦×œâ€

* ×‘×—×™×¨×ª ×˜×•×Ÿ ×ª×’×•×‘×” (×§×©×”/× ×™×˜×¨×œ×™/×—×•××œ) â†’ ×”×“×’××ª ×”×”×‘×“×œ ×‘×’×•×£/×¨×’×© â†’ ×”×¤×§×ª ××©×¤×˜ ××•×¢×™×œ + ×©××™×¨×”.

### ×ª×¨×’×•×œ ×™×•××™ (5 ×“×§×•×ª)

1 × ×©×™××” (45×©×³) â†’ 2 ××•×“×¢×•×ª (â€œ××” ×§×™×™× ×‘×™ ×¢×›×©×™×•?â€) â†’ 3 ×—××œ×” ×¢×¦××™×ª â†’ 4 ×›×•×•× ×” â†’ 5 ××©×¤×˜ ××¡×›×.

---

# ğŸ§± ×ª×©×ª×™×ª ×˜×›× ×•×œ×•×’×™×ª

**Frontend:** React Native (Expo)
**State:** Zustand / Recoil
**Animations:** Lottie / Rive
**Backend:** Firebase (Auth, Firestore, Storage, Cloud Functions) *××•* Supabase (Auth + Postgres + Edge Functions)
**AI:** OpenAI API (Chat Completions / Responses), ×¤×¨×¡×•× ×” BEZEN-CORE
**Voice (××•×¤×¦×™×•× ×œ×™):** Whisper (Transcribe), TTS ×©×œ ×”××›×©×™×¨ ××• ×©×™×¨×•×ª ×¦×“ ×’â€™
**×× ×œ×™×˜×™×§×”:** Firebase Analytics
**×”×ª×¨××•×ª:** Expo Notifications / FCM

---

# ğŸ—‚ï¸ ××•×“×œ × ×ª×•× ×™× (Firestore)

```
/users/{uid}
  displayName, email, intentPrimary, createdAt, consentFlags

/cards/{cardId}
  ownerUid, rawText, helpfulText, trait, agent, createdAt, shared (bool)

/sessions/{sessionId}
  ownerUid, inputText, classifiedAs, agent, helpfulText, durationSec, scoreRelief, createdAt

/breathLogs/{logId}
  ownerUid, preset (1/3/5), durationSec, calmScore, createdAt

/dailyPractices/{dateKey}
  ownerUid, stepsCompleted, reflection, intention, createdAt
```

**Supabase (×—×œ×•×¤×”) â€“ ×˜×‘×œ×ª ×“×•×’××” (SQL):**

```sql
create table cards (
  id uuid primary key default gen_random_uuid(),
  owner_uid uuid references auth.users(id),
  raw_text text not null,
  helpful_text text,
  trait text,
  agent text check (agent in ('MIND','HEART','BODY','ACTION','SOUL')),
  created_at timestamptz default now()
);
create index on cards(owner_uid, created_at desc);
```

---

# ğŸ§  ×¤×¨×¡×•× ×ª BEZEN-CORE (System Prompt)

×”×“×‘×§ ×›×©×“×” `system` ×‘×§×¨×™××” ×œ-OpenAI:

```
××ª×” BEZEN-CORE â€“ ×× ×˜×•×¨ ×¨×’×©×™ ×—×, ××“×‘×¨ ××š ×•×¨×§ ×‘×¢×‘×¨×™×ª ×˜×‘×¢×™×ª.
××˜×¨×ª×š: ×œ×”×¤×•×š ××©×¤×˜ ×˜×¢×•×Ÿ ×œ×©×™× ×•×™ ×¢×“×™×Ÿ ×•××•×¢×™×œ ×“×¨×š ×—××™×©×” ×××“×™×:
MIND (××—×©×‘×”), HEART (×¨×’×©), BODY (×ª×—×•×©×”), ACTION (×”×ª× ×”×’×•×ª), SOUL (×××•× ×”).
×¢×§×¨×•× ×•×ª: ×œ× ×©×™×¤×•×˜×™, ×§×¦×‘ ××™×˜×™ ×•× ×™× ×•×—, ×©×¤×” ×¨×›×”, ×©××œ×•×ª ×§×¦×¨×•×ª, × ×©×™××” ××•×“×¨×›×ª.
×¦×¢×“×™× ×‘×›×œ ×¡×©×Ÿ:
1) ×–×™×”×•×™ ×”×××¤×™×™×Ÿ ×”××¨×›×–×™.
2) ×ª×¨×’×™×œ ×§×¦×¨ ×©×œ 3 ×©×œ×‘×™× ××•×ª×× ×œ×××¤×™×™×Ÿ.
3) × ×™×¡×•×— ××©×¤×˜ ××•×¢×™×œ + ×”×¦×¢×ª ×ª×›×•× ×” ××•×¢×™×œ×” (×œ×“×•×’××”: ×—××œ×”/××•××¥/×‘×”×™×¨×•×ª).
4) ×©××œ ××ª ×”××©×ª××©: "××™×š ××ª×” ××¨×’×™×© ×¢×›×©×™×• ×œ×¢×•××ª ×”×”×ª×—×œ×”?"
××œ ×ª×ª×Ÿ ××‘×—× ×” ×¨×¤×•××™×ª. ××™×Ÿ ×”×‘×˜×—×•×ª ×¨×™×¤×•×™. ×¢×•×“×“ ×¨×¤×œ×§×¦×™×” ×•×”×§×©×‘×” ×¤× ×™××™×ª.
```

**××¡×•×•×’ (optional tool prompt):**

```
×¡×•×•×’ ××ª ×”××©×¤×˜ ×œ: MIND/HEART/BODY/ACTION/SOUL ×•×”×—×–×¨ JSON {label, confidence, hint}.
```

---

# ğŸ”Œ ×“×•×’×××•×ª ××™× ×˜×’×¨×¦×™×” ×œ-OpenAI

**×¦'××˜ ×¢× ×¡×˜×¨×™××™× ×’ (Node/Cloud Function):**

```js
import OpenAI from "openai";
export const chatBezen = async ({messages}) => {
  const client = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
  const res = await client.chat.completions.create({
    model: "gpt-4o-mini",
    temperature: 0.7,
    messages
  });
  return res.choices[0].message;
};
```

**Whisper â€“ ×ª××œ×•×œ ××•×“×™×• (Node):**

```js
import OpenAI from "openai";
export async function transcribe(filePath){
  const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
  const resp = await openai.audio.transcriptions.create({
    file: fs.createReadStream(filePath),
    model: "whisper-1",
    language: "he"
  });
  return resp.text;
}
```

---

# ğŸ“± ×ª×‘× ×™×ª ×¤×¨×•×™×§×˜ (React Native + Expo)

**×¤×§×•×“×•×ª:**

```
npx create-expo-app bezen-experience
cd bezen-experience
expo install react-native-reanimated lottie-react-native
npm i zustand firebase
```

**××‘× ×” ×ª×™×§×™×•×ª:**

```
/src
  /components
    BreathPlayer.tsx
    ChatMessage.tsx
    CardItem.tsx
  /screens
    HomeScreen.tsx
    JourneyScreen.tsx
    ScenesScreen.tsx
    BreathScreen.tsx
    CardsScreen.tsx
    DailyPracticeScreen.tsx
  /state
    useSessionStore.ts
  /services
    ai.ts
    fb.ts
  app.tsx
```

**Firebase init (`/src/services/fb.ts`):**

```ts
import { initializeApp } from "firebase/app";
import { getAuth } from "firebase/auth";
import { getFirestore } from "firebase/firestore";
const firebaseConfig = {/* TODO: keys */};
const app = initializeApp(firebaseConfig);
export const auth = getAuth(app);
export const db = getFirestore(app);
```

**×©×™×¨×•×ª AI (`/src/services/ai.ts`):**

```ts
export async function bezenChat(userText:string){
  const res = await fetch(process.env.EXPO_PUBLIC_CLOUD_URL + "/chatBezen",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ text: userText })
  });
  return await res.json(); // {label, helpfulText, agent, trait}
}
```

**××¡×š × ×©×™××” ×¢× Lottie (`BreathPlayer.tsx`):**

```tsx
import LottieView from "lottie-react-native";
export default function BreathPlayer({mode="4-6"}){
  // ××™× ×”×œ×¦×™×”/××§×¡×”×œ×¦×™×” ×œ×¤×™ ×˜×™×™××¨ ×¤×©×•×˜
  return (
    <LottieView
      source={require("../../assets/breath.json")}
      autoPlay loop
      style={{width: 300, height: 300}}
    />
  );
}
```

**××¡×¢ ×¨×’×©×™ â€“ ×©×œ×“ (`JourneyScreen.tsx`):**

```tsx
export default function JourneyScreen(){
  const [text,setText]=useState("");
  const [steps,setSteps]=useState<any[]>([]);
  const onSend = async ()=>{
    const resp = await bezenChat(text);
    setSteps(s=>[...s,{role:"user",text},{role:"bezen",text:resp.helpfulText,meta:resp}]);
    setText("");
  };
  return (/* UI: TextInput, steps list, CTA ×œ×©××™×¨×ª ×§×œ×£ */);
}
```

**Zustand â€“ ××¦×‘ ×›×œ×œ×™ (`useSessionStore.ts`):**

```ts
import create from "zustand";
export const useSessionStore = create((set)=>({
  intent:"calm",
  setIntent:(i:string)=>set({intent:i}),
  lastHelpful:null,
  setHelpful:(h:any)=>set({lastHelpful:h})
}));
```

---

# ğŸ¨ ×“×¤×•×¡×™ UI ×•×ª×•×›×Ÿ (×˜×§×¡×˜×™× ××•×›× ×™×)

* ×›×¤×ª×•×¨ ××¨×›×–×™: **â€œ×”×ª×—×œ ××¡×¢ ×¨×’×©×™â€**
* ××™×§×¨×•Ö¾×§×•×¤×™ ×œ×”×›× ×¡×”: â€œ××” ×”××©×¤×˜ ×©×”×œ×‘ ×¨×•×¦×” ×œ×©×—×¨×¨ ×”×™×•×?â€
* ×¡×™×•× ×¡×©×Ÿ: â€œ×”× ×” ×”××©×¤×˜ ×”×—×“×© ×©×‘×•×§×¢ ××ª×•×›×š:â€
* ×ª×–×›×•×¨×ª ×™×•××™×ª: â€œ× ×©×™××” ××—×ª â€” ×¢×•×œ× ×©×œ ×©×œ×•×•×”.â€
* ×˜×•×Ÿ: ×—×, ×œ× ×˜×›× ×™, ×‘×’×•×‘×” ×”×¢×™× ×™×™×.

---

# ğŸ­ â€œ×”××—×–×•×ªâ€ â€“ ×ª×¡×¨×™×˜×™× ×§×¦×¨×™×

**×“×™××œ×•×’ ×¢× ×”×¦×œ (HEART/SOUL)**

* ×¦×¢×“ 1: â€œ××™×š × ×©××¢ ×”×§×•×œ ×”×‘×™×§×•×¨×ª×™?â€ (×©×œ×•×© ××¤×©×¨×•×™×•×ª)
* ×¦×¢×“ 2: BEZEN-CORE ××©×§×£ ×•××¦×™×¢ ×ª×¨×’×•×œ ×—××œ×” 30×©×³
* ×¦×¢×“ 3: × ×™×¡×•×— ××©×¤×˜ ××•×¢×™×œ + ×‘×—×™×¨×ª ×ª×›×•× ×”: â€œ×—××œ×”/××•××¥/×§×‘×œ×”â€

**× ×©×™××” ×¢× ×”×’×•×£ (BODY)**

* ×˜×™×™××¨ 3 ×“×§×³, ×× ×™××¦×™×” × ×•×©××ª, ×”×“×¨×›×” ×§×•×œ×™×ª: â€œ×©××™×¤×” 4, × ×©×™×¤×” 6, ×©×™× ×œ×‘ ×œ×›×¤×•×ª ×”×¨×’×œ×™×™×â€¦â€
* ×‘×¡×™×•×: ×“×™×¨×•×’ â€œ×›××” ×©×œ×•×•×” ×”×ª×•×•×¡×¤×” 1â€“5?â€

**××©×¤×˜×™ ××•×¨ (MIND/ACTION)**

* ×§×œ×£ ××§×¨××™: â€œ×× ×™ ×œ× ××¡×¤×™×§â€¦â€ â†’ ×”×¦×¢×ª ××¡×’×¨×ª: â€œ×× ×™ ××ª×¨×’×œ/×ª ×¢×“×™× ×•×ª ×¢× ×¢×¦××™â€ â†’ ×©××™×¨×” ×›×§×œ×£.

---

# ğŸ† ×’×™×™××™×¤×™×§×¦×™×” ×¢×“×™× ×”

* **×¨×¦×£ × ×©×™××•×ª** (streak)
* **×ª×’×™×**: â€œ× ×©××ª 5 ×™××™×â€, â€œ×©×—×¨×¨×ª ×××•× ×” ××’×‘×™×œ×”â€
* **×§×œ×£ ××•×–×”×‘** ×›××©×¨ ×—×•×–×¨×™× ×œ××¡×¨ ××•×¢×™×œ 3 ×¤×¢××™× ×‘×©×‘×•×¢

---

# ğŸ” ×¤×¨×˜×™×•×ª ×•×‘×˜×™×—×•×ª

* MFA ××•×¤×¦×™×•× ×œ×™, ××—×™×§×ª ×—×©×‘×•×Ÿ/×™×¦×•× × ×ª×•× ×™×.
* ××™×Ÿ ××‘×—× ×” ×¨×¤×•××™×ª, ××™×Ÿ ×”×‘×˜×—×•×ª ×¨×™×¤×•×™.
* ×¡×™× ×•×Ÿ ××™×œ×™× ××¡×•×›× ×•×ª â†’ ×”×¦×¢×” ×œ×¢×–×¨×” ××§×¦×•×¢×™×ª ×‘××§×¨×” ×”×¦×•×¨×š.

---

# ğŸ”— â€œ×§×™×©×•×¨ ×œ-BEZEN-COREâ€

×¢×“ ×©× ×¢×œ×” ×“×£ ×—×™, × ×©×ª××© ×‘×§×™×©×•×¨×™ **deep link** ×¤× ×™××™×™×:

* **××¡×¢ ×¨×’×©×™:** `bezen://core/journey`
* **×¡×¦× ×•×ª:** `bezen://core/scenes`
* **×§×œ×¤×™×:** `bezen://core/cards`

×•×‘××§×‘×™×œ, â€œ×§×™×©×•×¨ ×ª×“××™×ª×™â€ (×œ×”×—×œ×¤×” ×›×©×™×”×™×” ×“×•××™×™×Ÿ):
`https://bezen.app/experience` â†’ ××¤× ×” ×œ×—× ×•×ª ×”××¤×œ×™×§×¦×™×•×ª/×•×•×‘Ö¾×“××•.
*(×”×—×œ×£ ×‘×›×ª×•×‘×ª ×”×××™×ª×™×ª ×›×©×ª×”×™×” ×–××™× ×”.)*

---

# ğŸ§ª ××” ×œ×”×¢×‘×™×¨ ×œ-LOVABLE/APP (×¦â€™×§×œ×™×¡×˜)

* [ ] PRD ×–×” + ××¤×ª ××¡×›×™×
* [ ] ×¡×›××ª Firestore/Supabase
* [ ] ×¤×¨×•××¤×˜×™ ××¢×¨×›×ª (BEZEN-CORE + Classifier)
* [ ] ×¡×˜ Lottie/Rive (× ×©×™××” 1/3/5 ×“×§â€™)
* [ ] ×ª×‘× ×™×ª RN/Expo + ×§×‘×¦×™ ×©×™×¨×•×ª (`ai.ts`, `fb.ts`)
* [ ] ×§×•× ×¤×™×’ ×”×ª×¨××•×ª ×™×•××™×•×ª (09:00 ×‘×¨×™×¨×ª ××—×“×œ)
* [ ] ××¡×›×™ MVP: Home, Journey, Breath, Cards

---

# ğŸ’¬ ×“××• ×ª×•×›×Ÿ (××¤×©×¨×•×ª ×œ×”×“×‘×§×” ×™×©×™×¨×” ×œ××¤×œ×™×§×¦×™×”)

**××¡×š ×¤×ª×™×—×”:**
â€œ×‘×¨×•×š/×” ×”×‘×/×” ×œ×‘×™×ª ×”×¤× ×™××™ ×©×œ×š. ×›××Ÿ ×œ× ××ª×§× ×™× â€” ××§×©×™×‘×™×. × ×ª×—×™×œ ×‘× ×©×™××” ××—×ª.â€

**×¡×™×•× ×¡×©×Ÿ ×œ×“×•×’××”:**
â€œ××©×¤×˜ ×—×“×© × ×•×œ×“: *×× ×™ ×œ×•××“/×ª ×œ×”×™×•×ª ×¢×“×™×Ÿ/×” ×¢× ×¢×¦××™.*
××™×š ××ª×” ××¨×’×™×© ×¢×›×©×™×• ×œ×¢×•××ª ×”×”×ª×—×œ×”?â€

---

×× ×ª×¨×¦×”, ××›×™×Ÿ ×œ×š ×’× **×§×‘×¦×™ JSON** ×œ×“××˜×” ×”×ª×—×œ×ª×™ (×§×œ×¤×™×/×˜×§×¡×˜×™×/×ª×¨×’×™×œ×™×) ×•×ª×¨×’×™×œ×™ × ×©×™××” ××•×›× ×™× (1/3/5 ×“×§×³).
×¨×•×¦×” ×©××•×¦×™× ×œ×š ×¢×›×©×™×• **×—×‘×™×œ×ª MVP** (×§×‘×¦×™ ×¤×¨×•×™×§×˜ ×‘×¡×™×¡×™×™× + Lottie ×¤×œ×™×™×¡×”×•×œ×“×¨ + ×¤×•× ×§×¦×™×•×ª ×¢× ×Ÿ ×“××•) ×©×ª×•×›×œ ×œ×ª×ª ×œ-LOVABLE ×œ×”×ª×—×œ×” ××”×™×¨×”? ğŸŒ±
bezen-experience/
â”œâ”€ app.json
â”œâ”€ package.json
â”œâ”€ tsconfig.json
â”œâ”€ babel.config.js
â”œâ”€ .env.example
â”œâ”€ App.tsx
â”œâ”€ /assets
â”‚  â”œâ”€ icon.png
â”‚  â”œâ”€ splash.png
â”‚  â””â”€ /lottie
â”‚     â””â”€ breath.json            // ×¤×œ×™×™×¡×”×•×œ×“×¨ (×œ×”×—×œ×™×£ ×‘×§×•×‘×¥ Lottie)
â”œâ”€ /src
â”‚  â”œâ”€ /components
â”‚  â”‚  â”œâ”€ BreathPlayer.tsx
â”‚  â”‚  â”œâ”€ ChatBubble.tsx
â”‚  â”‚  â””â”€ CardItem.tsx
â”‚  â”œâ”€ /screens
â”‚  â”‚  â”œâ”€ HomeScreen.tsx
â”‚  â”‚  â”œâ”€ JourneyScreen.tsx
â”‚  â”‚  â”œâ”€ BreathScreen.tsx
â”‚  â”‚  â”œâ”€ CardsScreen.tsx
â”‚  â”‚  â”œâ”€ DailyPracticeScreen.tsx
â”‚  â”‚  â””â”€ ScenesScreen.tsx
â”‚  â”œâ”€ /services
â”‚  â”‚  â”œâ”€ ai.ts
â”‚  â”‚  â”œâ”€ fb.ts
â”‚  â”‚  â””â”€ seed.ts
â”‚  â””â”€ /state
â”‚     â””â”€ useSessionStore.ts
â””â”€ /functions            // ×¤×•× ×§×¦×™×™×ª ×¢× ×Ÿ (Node) â€“ ×©×¨×ª×•×Ÿ ×œÖ¾OpenAI/Whisper
   â”œâ”€ package.json
   â”œâ”€ index.js
   â””â”€ .env.example
npx create-expo-app bezen-experience
cd bezen-experience
expo install react-native-reanimated lottie-react-native
npm i zustand firebase @react-navigation/native @react-navigation/native-stack
expo install react-native-screens react-native-safe-area-context
{
  "name": "bezen-experience",
  "version": "1.0.0",
  "main": "node_modules/expo/AppEntry.js",
  "private": true,
  "scripts": {
    "start": "expo start",
    "android": "expo run:android",
    "ios": "expo run:ios",
    "web": "expo start --web"
  },
  "dependencies": {
    "expo": "~51.0.0",
    "expo-status-bar": "~1.12.1",
    "react": "18.2.0",
    "react-native": "0.74.0",
    "lottie-react-native": "^6.7.0",
    "zustand": "^4.5.2",
    "firebase": "^10.12.3",
    "@react-navigation/native": "^6.1.17",
    "@react-navigation/native-stack": "^6.10.0",
    "react-native-safe-area-context": "4.10.5",
    "react-native-screens": "~3.31.1"
  }
}
{
  "expo": {
    "name": "BE ZEN Experience",
    "slug": "bezen-experience",
    "scheme": "bezen",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "splash": { "image": "./assets/splash.png", "resizeMode": "contain", "backgroundColor": "#ffffff" },
    "ios": { "supportsTablet": true },
    "android": { "adaptiveIcon": { "foregroundImage": "./assets/icon.png", "backgroundColor": "#ffffff" } },
    "web": { "bundler": "metro" }
  }
}
EXPO_PUBLIC_API_BASE=https://<YOUR-CLOUD-FUNCTION-URL>   # ×œ×“×•×’××”: https://xxx.cloudfunctions.net/bezen
FIREBASE_API_KEY=xxx
FIREBASE_AUTH_DOMAIN=xxx
FIREBASE_PROJECT_ID=xxx
FIREBASE_STORAGE_BUCKET=xxx
FIREBASE_MESSAGING_SENDER_ID=xxx
FIREBASE_APP_ID=xxx
import { NavigationContainer } from "@react-navigation/native";
import { createNativeStackNavigator } from "@react-navigation/native-stack";
import HomeScreen from "./src/screens/HomeScreen";
import JourneyScreen from "./src/screens/JourneyScreen";
import BreathScreen from "./src/screens/BreathScreen";
import CardsScreen from "./src/screens/CardsScreen";
import DailyPracticeScreen from "./src/screens/DailyPracticeScreen";
import ScenesScreen from "./src/screens/ScenesScreen";
import { StatusBar } from "expo-status-bar";

const Stack = createNativeStackNavigator();

export default function App() {
  return (
    <NavigationContainer>
      <StatusBar style="dark" />
      <Stack.Navigator screenOptions={{ headerTitleAlign: "center" }}>
        <Stack.Screen name="×‘×™×ª" component={HomeScreen} />
        <Stack.Screen name="××¡×¢ ×¨×’×©×™" component={JourneyScreen} />
        <Stack.Screen name="× ×©×™××”" component={BreathScreen} />
        <Stack.Screen name="×§×œ×¤×™ ×”×ª×•×“×¢×”" component={CardsScreen} />
        <Stack.Screen name="×ª×¨×’×•×œ ×™×•××™" component={DailyPracticeScreen} />
        <Stack.Screen name="×¡×¦× ×•×ª" component={ScenesScreen} />
      </Stack.Navigator>
    </NavigationContainer>
  );
}
import { initializeApp } from "firebase/app";
import { getAuth } from "firebase/auth";
import { getFirestore } from "firebase/firestore";

const firebaseConfig = {
  apiKey: process.env.FIREBASE_API_KEY,
  authDomain: process.env.FIREBASE_AUTH_DOMAIN,
  projectId: process.env.FIREBASE_PROJECT_ID,
  storageBucket: process.env.FIREBASE_STORAGE_BUCKET,
  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID,
  appId: process.env.FIREBASE_APP_ID
};

const app = initializeApp(firebaseConfig);
export const auth = getAuth(app);
export const db = getFirestore(app);
export type BezenReply = {
  label: "MIND"|"HEART"|"BODY"|"ACTION"|"SOUL";
  helpfulText: string;
  trait: string;
  agent: string;
  steps?: string[];
};

export async function bezenChat(userText: string): Promise<BezenReply> {
  const base = process.env.EXPO_PUBLIC_API_BASE!;
  const r = await fetch(`${base}/chatBezen`,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ text: userText, locale: "he" })
  });
  if(!r.ok) throw new Error("AI request failed");
  return r.json();
}
import { create } from "zustand";
type S = { intent: string; lastHelpful?: string|null; setIntent:(v:string)=>void; setHelpful:(v:string)=>void; };
export const useSessionStore = create<S>((set)=>({
  intent: "calm",
  lastHelpful: null,
  setIntent: (v)=>set({intent:v}),
  setHelpful: (v)=>set({lastHelpful:v})
}));
import { useEffect, useRef, useState } from "react";
import { View, Text } from "react-native";
import LottieView from "lottie-react-native";

export default function BreathPlayer({inhale=4, exhale=6}:{inhale?:number; exhale?:number;}){
  const ref = useRef<LottieView>(null);
  const [phase,setPhase] = useState<"×©××™×¤×”"|"× ×©×™×¤×”">("×©××™×¤×”");
  useEffect(()=>{
    let t: any;
    const loop = ()=>{
      setPhase("×©××™×¤×”");
      t = setTimeout(()=>{ setPhase("× ×©×™×¤×”"); t=setTimeout(loop, exhale*1000); }, inhale*1000);
    };
    loop(); return ()=>clearTimeout(t);
  },[inhale,exhale]);
  return (
    <View style={{alignItems:"center"}}>
      <LottieView ref={ref} source={require("../../assets/lottie/breath.json")} autoPlay loop style={{width:280,height:280}}/>
      <Text style={{marginTop:12,fontSize:18,color:"#333"}}>{phase} {phase==="×©××™×¤×”"? inhale: exhale} ×©× ×³</Text>
    </View>
  );
}
import { View, Text } from "react-native";
export default function ChatBubble({role,text}:{role:"user"|"bezen"; text:string;}){
  const isUser = role==="user";
  return (
    <View style={{alignSelf:isUser?"flex-end":"flex-start", backgroundColor:isUser?"#DCF8C6":"#F1F1F1", marginVertical:6, padding:10, borderRadius:12, maxWidth:"85%"}}>
      <Text style={{color:"#222"}}>{text}</Text>
    </View>
  );
}
import { View, Text } from "react-native";
export default function CardItem({raw,helpful,trait,agent}:{raw:string; helpful:string; trait:string; agent:string;}){
  return (
    <View style={{padding:12, borderRadius:12, backgroundColor:"#fff", borderWidth:1, borderColor:"#eee", marginBottom:10}}>
      <Text style={{fontWeight:"600", color:"#555"}}>××©×¤×˜ ×˜×¢×•×Ÿ:</Text>
      <Text style={{marginBottom:8}}>{raw}</Text>
      <Text style={{fontWeight:"600", color:"#555"}}>××©×¤×˜ ××•×¢×™×œ:</Text>
      <Text style={{color:"#0a7"}}>{helpful}</Text>
      <Text style={{marginTop:8, fontSize:12, color:"#888"}}>{agent} â€¢ ×ª×›×•× ×”: {trait}</Text>
    </View>
  );
}
import { View, Text, TouchableOpacity } from "react-native";
export default function HomeScreen({navigation}:any){
  const Btn = ({title, to}:{title:string;to:string;})=>(
    <TouchableOpacity onPress={()=>navigation.navigate(to)} style={{padding:16, backgroundColor:"#E7F5EE", borderRadius:12, marginVertical:6}}>
      <Text style={{fontSize:16}}>{title}</Text>
    </TouchableOpacity>
  );
  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:22, fontWeight:"700", marginBottom:16}}>×‘×¨×•×š/×” ×”×‘×/×” ×œ××¡×¢ BE ZEN</Text>
      <Btn title="×”×ª×—×œ ××¡×¢ ×¨×’×©×™" to="××¡×¢ ×¨×’×©×™"/>
      <Btn title="× ×©×™××” ××™×™×“×™×ª" to="× ×©×™××”"/>
      <Btn title="×§×œ×¤×™ ×”×ª×•×“×¢×” ×©×œ×™" to="×§×œ×¤×™ ×”×ª×•×“×¢×”"/>
      <Btn title="×ª×¨×’×•×œ ×™×•××™" to="×ª×¨×’×•×œ ×™×•××™"/>
      <Btn title="×¡×¦× ×•×ª ×•××©×—×§×™×" to="à¤¸×¦× ×•×ª"/>
    </View>
  );
}
import { useState } from "react";
import { View, TextInput, TouchableOpacity, Text, ScrollView } from "react-native";
import ChatBubble from "../components/ChatBubble";
import { bezenChat } from "../services/ai";
import { useSessionStore } from "../state/useSessionStore";

export default function JourneyScreen(){
  const [text,setText]=useState("");
  const [log,setLog]=useState<{role:"user"|"bezen"; text:string;}[]>([]);
  const setHelpful = useSessionStore(s=>s.setHelpful);

  const onSend = async ()=>{
    if(!text.trim()) return;
    setLog(s=>[...s,{role:"user",text}]);
    const r = await bezenChat(text);
    setLog(s=>[...s,{role:"bezen", text:r.helpfulText}]);
    setHelpful(r.helpfulText);
    setText("");
  };

  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fff"}}>
      <ScrollView style={{flex:1}} contentContainerStyle={{paddingVertical:8}}>
        {log.map((m,i)=><ChatBubble key={i} role={m.role} text={m.text}/>)}
      </ScrollView>
      <View style={{flexDirection:"row", gap:8}}>
        <TextInput placeholder="××” ×”××©×¤×˜ ×©×”×œ×‘ ×¨×•×¦×” ×œ×©×—×¨×¨?" value={text} onChangeText={setText}
          style={{flex:1, borderWidth:1, borderColor:"#ddd", borderRadius:12, padding:12}}/>
        <TouchableOpacity onPress={onSend} style={{paddingHorizontal:16, borderRadius:12, backgroundColor:"#0a7", justifyContent:"center"}}>
          <Text style={{color:"#fff", fontWeight:"700"}}>×©×œ×™×—×”</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}
import { useEffect, useState } from "react";
import { View, ScrollView } from "react-native";
import CardItem from "../components/CardItem";
import { seedCards } from "../services/seed";

export default function CardsScreen(){
  const [cards,setCards]=useState(seedCards);
  useEffect(()=>{ /* TODO: ×˜×¢×™× ×” ×-Firestore */ },[]);
  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fafafa"}}>
      <ScrollView>
        {cards.map((c,i)=><CardItem key={i} raw={c.rawText} helpful={c.helpfulText} trait={c.trait} agent={c.agent}/>)}
      </ScrollView>
    </View>
  );
}
import { View, Text } from "react-native";
export default function DailyPracticeScreen(){
  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:20, fontWeight:"700"}}>5 ×“×§×•×ª ×©×œ BE ZEN</Text>
      <Text style={{marginTop:12}}>1) × ×©×™××” ×§×¦×¨×” â€¢ 2) ××•×“×¢×•×ª: "××” ×§×™×™× ×‘×™ ×¢×›×©×™×•?" â€¢ 3) ×—××œ×” ×¢×¦××™×ª â€¢ 4) ×›×•×•× ×” ×œ×™×•×.</Text>
    </View>
  );
}
export const seedCards = [
  { rawText:"×× ×™ ×œ× ××¡×¤×™×§ ×˜×•×‘/×”", helpfulText:"×× ×™ ××ª×¨×’×œ/×ª ×¢×“×™× ×•×ª ×•×‘×•×—×¨×ª ×œ×¨××•×ª ××ª ×”×”×ª×§×“××•×ª ×”×§×˜× ×”.", trait:"×—××œ×”", agent:"SOUL" },
  { rawText:"×× ×™ ××•×¦×£/×ª ×¢×›×©×™×•", helpfulText:"×× ×™ × ×•×ª× /×ª ××§×•× ×œ×¨×’×© ×•× ×•×©×/×ª ×“×¨×›×• ×‘× ×—×ª.", trait:"×§×‘×œ×”", agent:"HEART" },
  { rawText:"×× ×™ ×ª×§×•×¢/×”", helpfulText:"×× ×™ ×¢×•×©×” ×¦×¢×“ ×§×˜×Ÿ ××—×“ ×”×™×•×, ×’× ×× ××™× ×• ××•×©×œ×.", trait:"××•××¥", agent:"ACTION" }
];

export const breathPresets = [
  { name:"1 ×“×§×”", inhale:4, exhale:6, durationSec:60 },
  { name:"3 ×“×§×•×ª", inhale:4, exhale:6, durationSec:180 },
  { name:"5 ×“×§×•×ª", inhale:4, exhale:6, durationSec:300 }
];
{
  "name": "bezen-functions",
  "version": "1.0.0",
  "type": "module",
  "dependencies": {
    "dotenv": "^16.4.1",
    "express": "^4.19.2",
    "cors": "^2.8.5",
    "openai": "^4.56.0"
  },
  "scripts": {
    "start": "node index.js"
  }
}
OPENAI_API_KEY=sk-xxxx
PORT=8080
import 'dotenv/config';
import express from 'express';
import cors from 'cors';
import OpenAI from 'openai';

const app = express();
app.use(cors());
app.use(express.json());
const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

const SYSTEM_PROMPT = `
××ª×” BEZEN-CORE â€“ ×× ×˜×•×¨ ×¨×’×©×™ ×—×, ×‘×¢×‘×¨×™×ª ×˜×‘×¢×™×ª.
××˜×¨×”: ×œ×”×¤×•×š ××©×¤×˜ ×˜×¢×•×Ÿ ×œ×©×™× ×•×™ ×¢×“×™×Ÿ ×“×¨×š MIND/HEART/BODY/ACTION/SOUL.
×¦×¢×“×™×: 1) ×–×™×”×•×™ ×××¤×™×™×Ÿ 2) ×ª×¨×’×™×œ ×§×¦×¨ 3) ××©×¤×˜ ××•×¢×™×œ + ×ª×›×•× ×” 4) ×©××œ×ª check-in.
×‘×œ×™ ××‘×—× ×” ×¨×¤×•××™×ª. ×‘×œ×™ ×”×‘×˜×—×•×ª ×¨×™×¤×•×™.
`;

function classify(text){
  const t = text.toLowerCase();
  if(/×œ× ××¡×¤×™×§|×›×™×©×œ×•×Ÿ|×œ× ×©×•×•×”/.test(t)) return "SOUL";
  if(/×œ×—×•×¥|××•×¦×£|×¢×¦×•×‘|×›×•×¢×¡/.test(t)) return "HEART";
  if(/×¢×™×™×£|×›×‘×“|×›××‘|××ª×—/.test(t)) return "BODY";
  if(/×“×—×™×™× ×•×ª|×œ× ×¤×•×¢×œ|× ×ª×§×¢/.test(t)) return "ACTION";
  return "MIND";
}

app.post('/chatBezen', async (req,res)=>{
  const { text } = req.body;
  const label = classify(text || "");

  const messages = [
    { role: "system", content: SYSTEM_PROMPT },
    { role: "user", content: `××©×¤×˜: "${text}"\n×× ×: 1) × ×™×¡×•×— ××©×¤×˜ ××•×¢×™×œ ×§×¦×¨ 2) ×©× ×ª×›×•× ×” (××™×œ×” ××—×ª) 3) 2-3 ×¦×¢×“×™× ×¢×“×™× ×™× ×œ×ª×¨×’×•×œ. ×”×›×œ ×‘×¢×‘×¨×™×ª.` }
  ];

  const resp = await openai.chat.completions.create({
    model: "gpt-4o-mini",
    temperature: 0.7,
    messages
  });

  const out = resp.choices[0]?.message?.content || "";
  // ×—×™×œ×•×¥ ×¤×©×•×˜ â€“ × ×™×ª×Ÿ ×œ×©×¤×¨ ×œ×¤×•×¨××˜ JSON ×‘×××¦×¢×•×ª ×¤×•× ×§×¦×™×•×ª
  const helpfulText = (out.match(/(?:××©×¤×˜ ××•×¢×™×œ|××©×¤×˜ ×—×“×©).*?:\s*(.*)/)?.[1]) || out;
  const trait = (out.match(/×ª×›×•× ×”.*?:\s*(\S+)/)?.[1]) || "×—××œ×”";

  res.json({ label, helpfulText, trait, agent: label, steps: out.split("\n").slice(0,5) });
});

// (××•×¤×¦×™×•× ×œ×™) ×ª××œ×•×œ ××•×“×™×•
app.post('/transcribe', async (req,res)=>{
  res.status(501).json({error:"Whisper endpoint placeholder"});
});

const port = process.env.PORT || 8080;
app.listen(port, ()=>console.log(`BEZEN functions on :${port}`));

×¤×¨×™×¡×”: Heroku/Render/Cloud Run/Netlify Functions/Cloud Functions â€” ×›×œ ×¤×ª×¨×•×Ÿ ×©××—×–×™×¨ /chatBezen ×¤×•××‘×™.
×œ××—×¨ ×”×¤×¨×™×¡×”, ×©××™× ××ª ×”×›×ª×•×‘×ª ×‘Ö¾EXPO_PUBLIC_API_BASE ×‘××¤×œ×™×§×¦×™×”.

ğŸ”— â€œ×§×™×©×•×¨ ×œâ€“BEZEN-COREâ€
Deep Links ×‘××¤×œ×™×§×¦×™×”:

××¡×¢ ×¨×’×©×™: bezen://core/journey

×¡×¦× ×•×ª: bezen://core/scenes

×§×œ×¤×™×: bezen://core/cards

×§×™×©×•×¨ ×ª×“××™×ª×™ ×—×™×¦×•× ×™ (×œ×”×—×œ×¤×” ×›×©×™×¢×œ×” ×“×£):
https://bezen.app/experience â†’ ×“×£ × ×—×™×ª×” ×©××¤× ×” ×œ×”×ª×§× ×”/×•×•×‘Ö¾×“××•.

cd functions
cp .env.example .env   # ×”×›× ×¡ OPENAI_API_KEY
npm i
npm start              # ××• ×¤×¨×™×¡×” ×œ×©×™×¨×•×ª ×¢× ×Ÿ
cd ../bezen-experience
cp .env.example .env   # ×”×›× ×¡ ×›×ª×•×‘×ª ×œ-EXPO_PUBLIC_API_BASE ×•×¢×¨×›×™ Firebase
npm i
npm run start
××¢×•×œ×” ğŸŒ¿
×œ×”×œ×Ÿ **×—×‘×™×œ×ª MVP ××œ××”** â€“ ×§×•×“ ×”×ª×—×œ×ª×™, ××‘× ×” ×ª×™×§×™×•×ª, ×§×‘×¦×™ ×“××•, ×•Ö¾Cloud Function ×œ×¢×‘×•×“×” ×¢× OpenAI. ××¤×©×¨ ×œ×”×¢×ª×™×§/×œ×”×“×‘×™×§ ×™×©×¨ ×œÖ¾LOVABLE/APP ×›×“×™ ×œ×”×¨×™× ×“××• ×—×™.

---

# ğŸ“¦ ××‘× ×” ×¤×¨×•×™×§×˜ (React Native + Expo)

```
bezen-experience/
â”œâ”€ app.json
â”œâ”€ package.json
â”œâ”€ tsconfig.json
â”œâ”€ babel.config.js
â”œâ”€ .env.example
â”œâ”€ App.tsx
â”œâ”€ /assets
â”‚  â”œâ”€ icon.png
â”‚  â”œâ”€ splash.png
â”‚  â””â”€ /lottie
â”‚     â””â”€ breath.json            // ×¤×œ×™×™×¡×”×•×œ×“×¨ (×œ×”×—×œ×™×£ ×‘×§×•×‘×¥ Lottie)
â”œâ”€ /src
â”‚  â”œâ”€ /components
â”‚  â”‚  â”œâ”€ BreathPlayer.tsx
â”‚  â”‚  â”œâ”€ ChatBubble.tsx
â”‚  â”‚  â””â”€ CardItem.tsx
â”‚  â”œâ”€ /screens
â”‚  â”‚  â”œâ”€ HomeScreen.tsx
â”‚  â”‚  â”œâ”€ JourneyScreen.tsx
â”‚  â”‚  â”œâ”€ BreathScreen.tsx
â”‚  â”‚  â”œâ”€ CardsScreen.tsx
â”‚  â”‚  â”œâ”€ DailyPracticeScreen.tsx
â”‚  â”‚  â””â”€ ScenesScreen.tsx
â”‚  â”œâ”€ /services
â”‚  â”‚  â”œâ”€ ai.ts
â”‚  â”‚  â”œâ”€ fb.ts
â”‚  â”‚  â””â”€ seed.ts
â”‚  â””â”€ /state
â”‚     â””â”€ useSessionStore.ts
â””â”€ /functions            // ×¤×•× ×§×¦×™×™×ª ×¢× ×Ÿ (Node) â€“ ×©×¨×ª×•×Ÿ ×œÖ¾OpenAI/Whisper
   â”œâ”€ package.json
   â”œâ”€ index.js
   â””â”€ .env.example
```

---

# ğŸ§° ×”×ª×§× ×•×ª ××”×™×¨×•×ª

```bash
npx create-expo-app bezen-experience
cd bezen-experience
expo install react-native-reanimated lottie-react-native
npm i zustand firebase @react-navigation/native @react-navigation/native-stack
expo install react-native-screens react-native-safe-area-context
```

---

# âš™ï¸ ×§×‘×¦×™× ××¨×›×–×™×™×

**package.json**

```json
{
  "name": "bezen-experience",
  "version": "1.0.0",
  "main": "node_modules/expo/AppEntry.js",
  "private": true,
  "scripts": {
    "start": "expo start",
    "android": "expo run:android",
    "ios": "expo run:ios",
    "web": "expo start --web"
  },
  "dependencies": {
    "expo": "~51.0.0",
    "expo-status-bar": "~1.12.1",
    "react": "18.2.0",
    "react-native": "0.74.0",
    "lottie-react-native": "^6.7.0",
    "zustand": "^4.5.2",
    "firebase": "^10.12.3",
    "@react-navigation/native": "^6.1.17",
    "@react-navigation/native-stack": "^6.10.0",
    "react-native-safe-area-context": "4.10.5",
    "react-native-screens": "~3.31.1"
  }
}
```

**app.json** (×›×•×œ×œ schema ×œÖ¾Deep Link: `bezen://`)

```json
{
  "expo": {
    "name": "BE ZEN Experience",
    "slug": "bezen-experience",
    "scheme": "bezen",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "splash": { "image": "./assets/splash.png", "resizeMode": "contain", "backgroundColor": "#ffffff" },
    "ios": { "supportsTablet": true },
    "android": { "adaptiveIcon": { "foregroundImage": "./assets/icon.png", "backgroundColor": "#ffffff" } },
    "web": { "bundler": "metro" }
  }
}
```

**.env.example**

```
EXPO_PUBLIC_API_BASE=https://<YOUR-CLOUD-FUNCTION-URL>   # ×œ×“×•×’××”: https://xxx.cloudfunctions.net/bezen
FIREBASE_API_KEY=xxx
FIREBASE_AUTH_DOMAIN=xxx
FIREBASE_PROJECT_ID=xxx
FIREBASE_STORAGE_BUCKET=xxx
FIREBASE_MESSAGING_SENDER_ID=xxx
FIREBASE_APP_ID=xxx
```

**App.tsx** â€“ × ×™×•×•×˜ ×‘×¡×™×¡×™

```tsx
import { NavigationContainer } from "@react-navigation/native";
import { createNativeStackNavigator } from "@react-navigation/native-stack";
import HomeScreen from "./src/screens/HomeScreen";
import JourneyScreen from "./src/screens/JourneyScreen";
import BreathScreen from "./src/screens/BreathScreen";
import CardsScreen from "./src/screens/CardsScreen";
import DailyPracticeScreen from "./src/screens/DailyPracticeScreen";
import ScenesScreen from "./src/screens/ScenesScreen";
import { StatusBar } from "expo-status-bar";

const Stack = createNativeStackNavigator();

export default function App() {
  return (
    <NavigationContainer>
      <StatusBar style="dark" />
      <Stack.Navigator screenOptions={{ headerTitleAlign: "center" }}>
        <Stack.Screen name="×‘×™×ª" component={HomeScreen} />
        <Stack.Screen name="××¡×¢ ×¨×’×©×™" component={JourneyScreen} />
        <Stack.Screen name="× ×©×™××”" component={BreathScreen} />
        <Stack.Screen name="×§×œ×¤×™ ×”×ª×•×“×¢×”" component={CardsScreen} />
        <Stack.Screen name="×ª×¨×’×•×œ ×™×•××™" component={DailyPracticeScreen} />
        <Stack.Screen name="×¡×¦× ×•×ª" component={ScenesScreen} />
      </Stack.Navigator>
    </NavigationContainer>
  );
}
```

---

## ğŸ”Œ ×©×™×¨×•×ª×™ ××¤×œ×™×§×¦×™×”

**/src/services/fb.ts** â€“ ×—×™×‘×•×¨ Firebase

```ts
import { initializeApp } from "firebase/app";
import { getAuth } from "firebase/auth";
import { getFirestore } from "firebase/firestore";

const firebaseConfig = {
  apiKey: process.env.FIREBASE_API_KEY,
  authDomain: process.env.FIREBASE_AUTH_DOMAIN,
  projectId: process.env.FIREBASE_PROJECT_ID,
  storageBucket: process.env.FIREBASE_STORAGE_BUCKET,
  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID,
  appId: process.env.FIREBASE_APP_ID
};

const app = initializeApp(firebaseConfig);
export const auth = getAuth(app);
export const db = getFirestore(app);
```

**/src/services/ai.ts** â€“ ×§×¨×™××” ×œ×©×¨×ª×•×Ÿ (Cloud Function)

```ts
export type BezenReply = {
  label: "MIND"|"HEART"|"BODY"|"ACTION"|"SOUL";
  helpfulText: string;
  trait: string;
  agent: string;
  steps?: string[];
};

export async function bezenChat(userText: string): Promise<BezenReply> {
  const base = process.env.EXPO_PUBLIC_API_BASE!;
  const r = await fetch(`${base}/chatBezen`,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ text: userText, locale: "he" })
  });
  if(!r.ok) throw new Error("AI request failed");
  return r.json();
}
```

**/src/state/useSessionStore.ts** â€“ Zustand

```ts
import { create } from "zustand";
type S = { intent: string; lastHelpful?: string|null; setIntent:(v:string)=>void; setHelpful:(v:string)=>void; };
export const useSessionStore = create<S>((set)=>({
  intent: "calm",
  lastHelpful: null,
  setIntent: (v)=>set({intent:v}),
  setHelpful: (v)=>set({lastHelpful:v})
}));
```

---

## ğŸ§© ×§×•××¤×•× × ×˜×•×ª

**/src/components/BreathPlayer.tsx**

```tsx
import { useEffect, useRef, useState } from "react";
import { View, Text } from "react-native";
import LottieView from "lottie-react-native";

export default function BreathPlayer({inhale=4, exhale=6}:{inhale?:number; exhale?:number;}){
  const ref = useRef<LottieView>(null);
  const [phase,setPhase] = useState<"×©××™×¤×”"|"× ×©×™×¤×”">("×©××™×¤×”");
  useEffect(()=>{
    let t: any;
    const loop = ()=>{
      setPhase("×©××™×¤×”");
      t = setTimeout(()=>{ setPhase("× ×©×™×¤×”"); t=setTimeout(loop, exhale*1000); }, inhale*1000);
    };
    loop(); return ()=>clearTimeout(t);
  },[inhale,exhale]);
  return (
    <View style={{alignItems:"center"}}>
      <LottieView ref={ref} source={require("../../assets/lottie/breath.json")} autoPlay loop style={{width:280,height:280}}/>
      <Text style={{marginTop:12,fontSize:18,color:"#333"}}>{phase} {phase==="×©××™×¤×”"? inhale: exhale} ×©× ×³</Text>
    </View>
  );
}
```

**/src/components/ChatBubble.tsx**

```tsx
import { View, Text } from "react-native";
export default function ChatBubble({role,text}:{role:"user"|"bezen"; text:string;}){
  const isUser = role==="user";
  return (
    <View style={{alignSelf:isUser?"flex-end":"flex-start", backgroundColor:isUser?"#DCF8C6":"#F1F1F1", marginVertical:6, padding:10, borderRadius:12, maxWidth:"85%"}}>
      <Text style={{color:"#222"}}>{text}</Text>
    </View>
  );
}
```

**/src/components/CardItem.tsx**

```tsx
import { View, Text } from "react-native";
export default function CardItem({raw,helpful,trait,agent}:{raw:string; helpful:string; trait:string; agent:string;}){
  return (
    <View style={{padding:12, borderRadius:12, backgroundColor:"#fff", borderWidth:1, borderColor:"#eee", marginBottom:10}}>
      <Text style={{fontWeight:"600", color:"#555"}}>××©×¤×˜ ×˜×¢×•×Ÿ:</Text>
      <Text style={{marginBottom:8}}>{raw}</Text>
      <Text style={{fontWeight:"600", color:"#555"}}>××©×¤×˜ ××•×¢×™×œ:</Text>
      <Text style={{color:"#0a7"}}>{helpful}</Text>
      <Text style={{marginTop:8, fontSize:12, color:"#888"}}>{agent} â€¢ ×ª×›×•× ×”: {trait}</Text>
    </View>
  );
}
```

---

## ğŸ–¥ï¸ ××¡×›×™×

**/src/screens/HomeScreen.tsx**

```tsx
import { View, Text, TouchableOpacity } from "react-native";
export default function HomeScreen({navigation}:any){
  const Btn = ({title, to}:{title:string;to:string;})=>(
    <TouchableOpacity onPress={()=>navigation.navigate(to)} style={{padding:16, backgroundColor:"#E7F5EE", borderRadius:12, marginVertical:6}}>
      <Text style={{fontSize:16}}>{title}</Text>
    </TouchableOpacity>
  );
  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:22, fontWeight:"700", marginBottom:16}}>×‘×¨×•×š/×” ×”×‘×/×” ×œ××¡×¢ BE ZEN</Text>
      <Btn title="×”×ª×—×œ ××¡×¢ ×¨×’×©×™" to="××¡×¢ ×¨×’×©×™"/>
      <Btn title="× ×©×™××” ××™×™×“×™×ª" to="× ×©×™××”"/>
      <Btn title="×§×œ×¤×™ ×”×ª×•×“×¢×” ×©×œ×™" to="×§×œ×¤×™ ×”×ª×•×“×¢×”"/>
      <Btn title="×ª×¨×’×•×œ ×™×•××™" to="×ª×¨×’×•×œ ×™×•××™"/>
      <Btn title="×¡×¦× ×•×ª ×•××©×—×§×™×" to="à¤¸×¦× ×•×ª"/>
    </View>
  );
}
```

**/src/screens/JourneyScreen.tsx**

```tsx
import { useState } from "react";
import { View, TextInput, TouchableOpacity, Text, ScrollView } from "react-native";
import ChatBubble from "../components/ChatBubble";
import { bezenChat } from "../services/ai";
import { useSessionStore } from "../state/useSessionStore";

export default function JourneyScreen(){
  const [text,setText]=useState("");
  const [log,setLog]=useState<{role:"user"|"bezen"; text:string;}[]>([]);
  const setHelpful = useSessionStore(s=>s.setHelpful);

  const onSend = async ()=>{
    if(!text.trim()) return;
    setLog(s=>[...s,{role:"user",text}]);
    const r = await bezenChat(text);
    setLog(s=>[...s,{role:"bezen", text:r.helpfulText}]);
    setHelpful(r.helpfulText);
    setText("");
  };

  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fff"}}>
      <ScrollView style={{flex:1}} contentContainerStyle={{paddingVertical:8}}>
        {log.map((m,i)=><ChatBubble key={i} role={m.role} text={m.text}/>)}
      </ScrollView>
      <View style={{flexDirection:"row", gap:8}}>
        <TextInput placeholder="××” ×”××©×¤×˜ ×©×”×œ×‘ ×¨×•×¦×” ×œ×©×—×¨×¨?" value={text} onChangeText={setText}
          style={{flex:1, borderWidth:1, borderColor:"#ddd", borderRadius:12, padding:12}}/>
        <TouchableOpacity onPress={onSend} style={{paddingHorizontal:16, borderRadius:12, backgroundColor:"#0a7", justifyContent:"center"}}>
          <Text style={{color:"#fff", fontWeight:"700"}}>×©×œ×™×—×”</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}
```

**/src/screens/BreathScreen.tsx**

```tsx
import { View, Text } from "react-native";
import BreathPlayer from "../components/BreathPlayer";
export default function BreathScreen(){
  return (
    <View style={{flex:1, padding:20, alignItems:"center", backgroundColor:"#fff"}}>
      <Text style={{fontSize:20, fontWeight:"700", marginBottom:12}}>× ×©×™××” 4â€“6 (3 ×“×§×•×ª)</Text>
      <BreathPlayer inhale={4} exhale={6}/>
      <Text style={{marginTop:16, color:"#666"}}>×ª×Ÿ ×œ×’×•×£ ×œ×”×•×‘×™×œ. ××™×Ÿ ×¦×•×¨×š ×œ×”×•×›×™×— ×›×œ×•×.</Text>
    </View>
  );
}
```

**/src/screens/CardsScreen.tsx**

```tsx
import { useEffect, useState } from "react";
import { View, ScrollView } from "react-native";
import CardItem from "../components/CardItem";
import { seedCards } from "../services/seed";

export default function CardsScreen(){
  const [cards,setCards]=useState(seedCards);
  useEffect(()=>{ /* TODO: ×˜×¢×™× ×” ×-Firestore */ },[]);
  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fafafa"}}>
      <ScrollView>
        {cards.map((c,i)=><CardItem key={i} raw={c.rawText} helpful={c.helpfulText} trait={c.trait} agent={c.agent}/>)}
      </ScrollView>
    </View>
  );
}
```

**/src/screens/DailyPracticeScreen.tsx**

```tsx
import { View, Text } from "react-native";
export default function DailyPracticeScreen(){
  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:20, fontWeight:"700"}}>5 ×“×§×•×ª ×©×œ BE ZEN</Text>
      <Text style={{marginTop:12}}>1) × ×©×™××” ×§×¦×¨×” â€¢ 2) ××•×“×¢×•×ª: "××” ×§×™×™× ×‘×™ ×¢×›×©×™×•?" â€¢ 3) ×—××œ×” ×¢×¦××™×ª â€¢ 4) ×›×•×•× ×” ×œ×™×•×.</Text>
    </View>
  );
}
```

**/src/screens/ScenesScreen.tsx**

```tsx
import { View, Text } from "react-native";
export default function ScenesScreen(){
  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:20, fontWeight:"700"}}>×¡×¦× ×•×ª ×•××©×—×§×™×</Text>
      <Text style={{marginTop:10}}>ğŸ­ ×“×™××œ×•×’ ×¢× ×”×¦×œ â€¢ ğŸŒŠ × ×©×™××” ×¢× ×”×’×•×£ â€¢ ğŸ”® ××©×¤×˜×™ ××•×¨</Text>
    </View>
  );
}
```

---

## ğŸŒ± × ×ª×•× ×™ ×“××•

**/src/services/seed.ts**

```ts
export const seedCards = [
  { rawText:"×× ×™ ×œ× ××¡×¤×™×§ ×˜×•×‘/×”", helpfulText:"×× ×™ ××ª×¨×’×œ/×ª ×¢×“×™× ×•×ª ×•×‘×•×—×¨×ª ×œ×¨××•×ª ××ª ×”×”×ª×§×“××•×ª ×”×§×˜× ×”.", trait:"×—××œ×”", agent:"SOUL" },
  { rawText:"×× ×™ ××•×¦×£/×ª ×¢×›×©×™×•", helpfulText:"×× ×™ × ×•×ª× /×ª ××§×•× ×œ×¨×’×© ×•× ×•×©×/×ª ×“×¨×›×• ×‘× ×—×ª.", trait:"×§×‘×œ×”", agent:"HEART" },
  { rawText:"×× ×™ ×ª×§×•×¢/×”", helpfulText:"×× ×™ ×¢×•×©×” ×¦×¢×“ ×§×˜×Ÿ ××—×“ ×”×™×•×, ×’× ×× ××™× ×• ××•×©×œ×.", trait:"××•××¥", agent:"ACTION" }
];

export const breathPresets = [
  { name:"1 ×“×§×”", inhale:4, exhale:6, durationSec:60 },
  { name:"3 ×“×§×•×ª", inhale:4, exhale:6, durationSec:180 },
  { name:"5 ×“×§×•×ª", inhale:4, exhale:6, durationSec:300 }
];
```

---

# â˜ï¸ ×¤×•× ×§×¦×™×™×ª ×¢× ×Ÿ (Node) â€“ OpenAI + Whisper (××•×¤×¦×™×•× ×œ×™)

**functions/package.json**

```json
{
  "name": "bezen-functions",
  "version": "1.0.0",
  "type": "module",
  "dependencies": {
    "dotenv": "^16.4.1",
    "express": "^4.19.2",
    "cors": "^2.8.5",
    "openai": "^4.56.0"
  },
  "scripts": {
    "start": "node index.js"
  }
}
```

**functions/.env.example**

```
OPENAI_API_KEY=sk-xxxx
PORT=8080
```

**functions/index.js**

```js
import 'dotenv/config';
import express from 'express';
import cors from 'cors';
import OpenAI from 'openai';

const app = express();
app.use(cors());
app.use(express.json());
const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

const SYSTEM_PROMPT = `
××ª×” BEZEN-CORE â€“ ×× ×˜×•×¨ ×¨×’×©×™ ×—×, ×‘×¢×‘×¨×™×ª ×˜×‘×¢×™×ª.
××˜×¨×”: ×œ×”×¤×•×š ××©×¤×˜ ×˜×¢×•×Ÿ ×œ×©×™× ×•×™ ×¢×“×™×Ÿ ×“×¨×š MIND/HEART/BODY/ACTION/SOUL.
×¦×¢×“×™×: 1) ×–×™×”×•×™ ×××¤×™×™×Ÿ 2) ×ª×¨×’×™×œ ×§×¦×¨ 3) ××©×¤×˜ ××•×¢×™×œ + ×ª×›×•× ×” 4) ×©××œ×ª check-in.
×‘×œ×™ ××‘×—× ×” ×¨×¤×•××™×ª. ×‘×œ×™ ×”×‘×˜×—×•×ª ×¨×™×¤×•×™.
`;

function classify(text){
  const t = text.toLowerCase();
  if(/×œ× ××¡×¤×™×§|×›×™×©×œ×•×Ÿ|×œ× ×©×•×•×”/.test(t)) return "SOUL";
  if(/×œ×—×•×¥|××•×¦×£|×¢×¦×•×‘|×›×•×¢×¡/.test(t)) return "HEART";
  if(/×¢×™×™×£|×›×‘×“|×›××‘|××ª×—/.test(t)) return "BODY";
  if(/×“×—×™×™× ×•×ª|×œ× ×¤×•×¢×œ|× ×ª×§×¢/.test(t)) return "ACTION";
  return "MIND";
}

app.post('/chatBezen', async (req,res)=>{
  const { text } = req.body;
  const label = classify(text || "");

  const messages = [
    { role: "system", content: SYSTEM_PROMPT },
    { role: "user", content: `××©×¤×˜: "${text}"\n×× ×: 1) × ×™×¡×•×— ××©×¤×˜ ××•×¢×™×œ ×§×¦×¨ 2) ×©× ×ª×›×•× ×” (××™×œ×” ××—×ª) 3) 2-3 ×¦×¢×“×™× ×¢×“×™× ×™× ×œ×ª×¨×’×•×œ. ×”×›×œ ×‘×¢×‘×¨×™×ª.` }
  ];

  const resp = await openai.chat.completions.create({
    model: "gpt-4o-mini",
    temperature: 0.7,
    messages
  });

  const out = resp.choices[0]?.message?.content || "";
  // ×—×™×œ×•×¥ ×¤×©×•×˜ â€“ × ×™×ª×Ÿ ×œ×©×¤×¨ ×œ×¤×•×¨××˜ JSON ×‘×××¦×¢×•×ª ×¤×•× ×§×¦×™×•×ª
  const helpfulText = (out.match(/(?:××©×¤×˜ ××•×¢×™×œ|××©×¤×˜ ×—×“×©).*?:\s*(.*)/)?.[1]) || out;
  const trait = (out.match(/×ª×›×•× ×”.*?:\s*(\S+)/)?.[1]) || "×—××œ×”";

  res.json({ label, helpfulText, trait, agent: label, steps: out.split("\n").slice(0,5) });
});

// (××•×¤×¦×™×•× ×œ×™) ×ª××œ×•×œ ××•×“×™×•
app.post('/transcribe', async (req,res)=>{
  res.status(501).json({error:"Whisper endpoint placeholder"});
});

const port = process.env.PORT || 8080;
app.listen(port, ()=>console.log(`BEZEN functions on :${port}`));
```

> ×¤×¨×™×¡×”: Heroku/Render/Cloud Run/Netlify Functions/Cloud Functions â€” ×›×œ ×¤×ª×¨×•×Ÿ ×©××—×–×™×¨ `/chatBezen` ×¤×•××‘×™.
> ×œ××—×¨ ×”×¤×¨×™×¡×”, ×©××™× ××ª ×”×›×ª×•×‘×ª ×‘Ö¾`EXPO_PUBLIC_API_BASE` ×‘××¤×œ×™×§×¦×™×”.

---

# ğŸ”— â€œ×§×™×©×•×¨ ×œâ€“BEZEN-COREâ€

* **Deep Links ×‘××¤×œ×™×§×¦×™×”:**

  * ××¡×¢ ×¨×’×©×™: `bezen://core/journey`
  * ×¡×¦× ×•×ª: `bezen://core/scenes`
  * ×§×œ×¤×™×: `bezen://core/cards`

* **×§×™×©×•×¨ ×ª×“××™×ª×™ ×—×™×¦×•× ×™ (×œ×”×—×œ×¤×” ×›×©×™×¢×œ×” ×“×£):**
  `https://bezen.app/experience`  â†’ ×“×£ × ×—×™×ª×” ×©××¤× ×” ×œ×”×ª×§× ×”/×•×•×‘Ö¾×“××•.

---

# ğŸ§­ ×”×•×¨××•×ª ×”×¤×¢×œ×” ×§×¦×¨×•×ª

1. **Server**

   ```
   cd functions
   cp .env.example .env   # ×”×›× ×¡ OPENAI_API_KEY
   npm i
   npm start              # ××• ×¤×¨×™×¡×” ×œ×©×™×¨×•×ª ×¢× ×Ÿ
   ```
2. **Client**

   ```
   cd ../bezen-experience
   cp .env.example .env   # ×”×›× ×¡ ×›×ª×•×‘×ª ×œ-EXPO_PUBLIC_API_BASE ×•×¢×¨×›×™ Firebase
   npm i
   npm run start
   ```

---

# ğŸ­ ×“××• ×˜×§×¡×˜×™× ×§×¦×¨×™× (××•×›× ×™× ×œ×©×™××•×©)

* ×¤×ª×—: â€œ×‘×¨×•×š/×” ×”×‘×/×” ×œ×‘×™×ª ×”×¤× ×™××™ ×©×œ×š. ×›××Ÿ ×œ× ××ª×§× ×™× â€” ××§×©×™×‘×™×. × ×ª×—×™×œ ×‘× ×©×™××” ××—×ª.â€
* ×ª×–×›×•×¨×ª: â€œ× ×©×™××” ××—×ª ×™×›×•×œ×” ×œ×¤×ª×•×— ×¢×•×œ× ×©×œ ×©×œ×•×•×”.â€
* Check-in: â€œ××™×š ××ª×” ××¨×’×™×© ×¢×›×©×™×• ×œ×¢×•××ª ×”×”×ª×—×œ×”?â€

---

# ğŸŒ¿ ××” × ×©××¨ ×œ×š ×œ×”×©×œ×™×

* ×œ×”×—×œ×™×£ ××ª `assets/lottie/breath.json` ×‘×§×•×‘×¥ Lottie ××ª××™× (×¨×™×‘/×œ×•×˜×™ ×©×œ × ×©×™××”).
* ×œ×”×›× ×™×¡ ××¤×ª×—×•×ª Firebase ××• Supabase (×× ××¢×“×™×£ SQL).
* ×œ×¤×¨×•×¡ ××ª ×¤×•× ×§×¦×™×™×ª ×”×¢× ×Ÿ ×•×œ×”×“×‘×™×§ ××ª ×”Ö¾URL ×œÖ¾`.env`.
* ×œ×”×—×œ×™×£ ××ª ×“×£ ×”× ×—×™×ª×” ×œ×§×™×©×•×¨ ×××™×ª×™ ×›×©×™×•×§×.

---

×× ×ª×¨×¦×”, ××•×¡×™×£ ×œ×š ×¢×•×“ ×©× ×™ ×“×‘×¨×™× ×œ×¤×™ ×‘×—×™×¨×”:

1. **Firestore Integration ××œ××”** (CRUD ×œ×§×œ×¤×™×/×™×•××Ÿ)
2. **×¡×¦× ×ª â€œ×“×™××œ×•×’ ×¢× ×”×¦×œâ€ ××™× ×˜×¨××§×˜×™×‘×™×ª** ×¢× ×›×¤×ª×•×¨×™× ××•×›× ×™×

××” ×”×›×™ ×™×¢×–×•×¨ ×œ×š ×œ×©×œ×‘ ×”×‘×? ğŸŒ¸
import { db } from "./fb";
import { addDoc, collection, serverTimestamp, getDocs, query, where, orderBy, deleteDoc, doc } from "firebase/firestore";
import { getAuth } from "firebase/auth";

export type Card = {
  id?: string;
  ownerUid: string;
  rawText: string;
  helpfulText: string;
  trait: string;
  agent: "MIND"|"HEART"|"BODY"|"ACTION"|"SOUL";
  createdAt?: any;
};

export async function createCard(input: Omit<Card,"ownerUid"|"createdAt">){
  const uid = getAuth().currentUser?.uid;
  if(!uid) throw new Error("×œ× ××—×•×‘×¨/×ª");
  const ref = await addDoc(collection(db,"cards"),{
    ...input,
    ownerUid: uid,
    createdAt: serverTimestamp()
  });
  return ref.id;
}

export async function listMyCards(){
  const uid = getAuth().currentUser?.uid;
  if(!uid) throw new Error("×œ× ××—×•×‘×¨/×ª");
  const q = query(collection(db,"cards"), where("ownerUid","==",uid), orderBy("createdAt","desc"));
  const snap = await getDocs(q);
  return snap.docs.map(d=>({id:d.id, ...d.data()})) as Card[];
}

export async function deleteCard(id:string){
  await deleteDoc(doc(db,"cards",id));
}
import { useState } from "react";
import { View, TextInput, TouchableOpacity, Text, ScrollView, Alert } from "react-native";
import ChatBubble from "../components/ChatBubble";
import { bezenChat } from "../services/ai";
import { createCard } from "../services/cards";

export default function JourneyScreen(){
  const [text,setText]=useState("");
  const [log,setLog]=useState<{role:"user"|"bezen"; text:string;}[]>([]);
  const [last, setLast] = useState<any>(null);

  const onSend = async ()=>{
    if(!text.trim()) return;
    setLog(s=>[...s,{role:"user",text}]);
    const r = await bezenChat(text);
    setLog(s=>[...s,{role:"bezen", text:r.helpfulText}]);
    setLast({ rawText: text, ...r });
    setText("");
  };

  const onSave = async ()=>{
    if(!last) return;
    try{
      await createCard({
        rawText: last.rawText,
        helpfulText: last.helpfulText,
        trait: last.trait,
        agent: last.agent
      });
      Alert.alert("× ×©××¨ âœ¨","×”×§×œ×£ × ×›× ×¡ ×œâ€˜×§×œ×¤×™ ×”×ª×•×“×¢×”â€™");
      setLast(null);
    }catch(e:any){
      Alert.alert("×©×’×™××”", e.message || "× ×™×¡×™×•×Ÿ ×××•×—×¨ ×™×•×ª×¨");
    }
  };

  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fff"}}>
      <ScrollView style={{flex:1}} contentContainerStyle={{paddingVertical:8}}>
        {log.map((m,i)=><ChatBubble key={i} role={m.role} text={m.text}/>)}
      </ScrollView>

      {last && (
        <TouchableOpacity onPress={onSave} style={{padding:14, backgroundColor:"#0a7", borderRadius:12, marginBottom:8}}>
          <Text style={{color:"#fff", textAlign:"center", fontWeight:"700"}}>×©××•×¨/×™ ×›×§×œ×£</Text>
        </TouchableOpacity>
      )}

      <View style={{flexDirection:"row", gap:8}}>
        <TextInput placeholder="××” ×”××©×¤×˜ ×©×”×œ×‘ ×¨×•×¦×” ×œ×©×—×¨×¨?" value={text} onChangeText={setText}
          style={{flex:1, borderWidth:1, borderColor:"#ddd", borderRadius:12, padding:12}}/>
        <TouchableOpacity onPress={onSend} style={{paddingHorizontal:16, borderRadius:12, backgroundColor:"#0a7", justifyContent:"center"}}>
          <Text style={{color:"#fff", fontWeight:"700"}}>×©×œ×™×—×”</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}
import { useEffect, useState } from "react";
import { View, ScrollView, RefreshControl } from "react-native";
import CardItem from "../components/CardItem";
import { listMyCards } from "../services/cards";

export default function CardsScreen(){
  const [cards,setCards]=useState<any[]>([]);
  const [loading,setLoading]=useState(false);

  async function load(){
    setLoading(true);
    try{ setCards(await listMyCards()); } finally{ setLoading(false); }
  }
  useEffect(()=>{ load(); },[]);

  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fafafa"}}>
      <ScrollView refreshControl={<RefreshControl refreshing={loading} onRefresh={load}/>}>
        {cards.map((c)=>(
          <CardItem key={c.id} raw={c.rawText} helpful={c.helpfulText} trait={c.trait} agent={c.agent}/>
        ))}
      </ScrollView>
    </View>
  );
}
import { TouchableOpacity, Text } from "react-native";
export default function Choice({label,onPress}:{label:string; onPress:()=>void;}){
  return (
    <TouchableOpacity onPress={onPress} style={{padding:14, backgroundColor:"#EEF6F2", borderRadius:12, marginVertical:6}}>
      <Text style={{fontSize:16}}>{label}</Text>
    </TouchableOpacity>
  );
}
import { useState } from "react";
import { View, Text } from "react-native";
import Choice from "../components/Choice";

type Step = { user?: string; bezen?: string; };

export default function ScenesScreen(){
  const [steps,setSteps]=useState<Step[]>([
    { bezen: "×“××™×™×Ÿ/×™ ××ª ×”×§×•×œ ×”×‘×™×§×•×¨×ª×™ ×”×¤× ×™××™. ××™×š ×”×•× × ×©××¢?" }
  ]);

  const push = (s:Step)=>setSteps(prev=>[...prev, s]);

  const chooseTone = (tone:"×§×©×”"|"× ×™×˜×¨×œ×™"|"×—×•××œ")=>{
    push({ user: `×‘×—×™×¨×”: ×˜×•×Ÿ ${tone}` });
    if(tone==="×§×©×”"){
      push({ bezen: "×©×™×/×™ ×œ×‘ ××™×š ×”×’×•×£ ××ª×›×•×•×¥. × ×©×™××” 4â€“6. ××•×›×Ÿ/×” ×œ× ×¡×•×ª ×˜×•×Ÿ ×¢×“×™×Ÿ ×™×•×ª×¨?" });
    }else if(tone==="× ×™×˜×¨×œ×™"){
      push({ bezen: "× ×™×˜×¨×œ×™ ×”×•× ×¦×¢×“ ×˜×•×‘. ×”×× ×ª×¨×¦×”/×™ ×œ×”×•×¡×™×£ ×˜×™×¤×ª ×—××œ×”?" });
    }else{
      push({ bezen: "×™×¤×”. ××™×š ×–×” ××¨×’×™×© ×¢×›×©×™×•? ×‘×•×/×™ × ××¦× ××©×¤×˜ ××•×¢×™×œ." });
      push({ bezen: "××©×¤×˜ ×—×“×©: â€œ×× ×™ ×œ×•××“/×ª ×œ×“×‘×¨ ×œ×¢×¦××™ ×‘×¢×“×™× ×•×ª, ×’× ×›×©×§×©×”.â€ ×ª×›×•× ×”: ×—××œ×” ğŸ’š" });
    }
  };

  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:20, fontWeight:"700", marginBottom:10}}>ğŸ­ ×“×™××œ×•×’ ×¢× ×”×¦×œ</Text>
      {steps.map((s,i)=>(
        <View key={i} style={{marginBottom:10}}>
          {s.bezen && <Text style={{color:"#333"}}>{s.bezen}</Text>}
          {s.user && <Text style={{alignSelf:"flex-end", color:"#0a7"}}>{s.user}</Text>}
        </View>
      ))}

      <View style={{marginTop:10}}>
        <Text style={{fontWeight:"600", marginBottom:6}}>×‘×—×¨/×™ ×˜×•×Ÿ ×ª×’×•×‘×”:</Text>
        <Choice label="×§×©×” / ×©×™×¤×•×˜×™" onPress={()=>chooseTone("×§×©×”")}/>
        <Choice label="× ×™×˜×¨×œ×™ / ×¢× ×™×™× ×™" onPress={()=>chooseTone("× ×™×˜×¨×œ×™")}/>
        <Choice label="×—×•××œ / ×¢×“×™×Ÿ" onPress={()=>chooseTone("×—×•××œ")}/>
      </View>

      <Text style={{marginTop:16, color:"#666"}}>×˜×™×¤: ×× ×”×’×•×£ ×”×ª×›×•×•×¥ â€“ ×—×–×•×¨/×—×–×¨×™ ×œ× ×©×™××” 4â€“6 ×œ×©×ª×™ ×“×§×•×ª.</Text>
    </View>
  );
}
××“×”×™×. ×œ×§×—×ª×™ ×™×•×–××” ×•×‘× ×™×ª×™ ×œ×š **×©× ×™ ×©×“×¨×•×’×™×** ×©×›×“××™ ×œ×”×›× ×™×¡ ×¢×›×©×™×•:

1. ××™× ×˜×’×¨×¦×™×” ××œ××” ×œâ€“**Firestore (CRUD ×œ×§×œ×¤×™×/×™×•××Ÿ)**
2. ×¡×¦× ×” ××™× ×˜×¨××§×˜×™×‘×™×ª ××•×›× ×”: **â€œ×“×™××œ×•×’ ×¢× ×”×¦×œâ€** ğŸ­

×”×›×œ ×‘×¢×‘×¨×™×ª, ××•×›×Ÿ ×œ×”×“×‘×§×” ×‘×¤×¨×•×™×§×˜ ×©×”×§×× ×•.

---

# 1) ğŸ”¥ Firestore â€“ ×§×œ×¤×™×/×™×•××Ÿ (CRUD ××œ×)

## ×. ×›×œ×œ×™ ××‘×˜×—×” (×”×“×‘×§ ×‘Ö¾Firebase â†’ Firestore â†’ Rules)

```js
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    function isSignedIn() { return request.auth != null; }
    function isOwner(uid) { return request.auth.uid == uid; }

    match /users/{uid} {
      allow read, write: if isSignedIn() && isOwner(uid);
    }

    match /cards/{cardId} {
      allow create: if isSignedIn() && request.resource.data.ownerUid == request.auth.uid;
      allow read, update, delete: if isSignedIn() && resource.data.ownerUid == request.auth.uid;
    }

    match /sessions/{sessionId} {
      allow create: if isSignedIn() && request.resource.data.ownerUid == request.auth.uid;
      allow read: if isSignedIn() && resource.data.ownerUid == request.auth.uid;
    }

    match /breathLogs/{logId} {
      allow create, read: if isSignedIn() && (request.resource.data.ownerUid == request.auth.uid || resource.data.ownerUid == request.auth.uid);
      allow update, delete: if isSignedIn() && resource.data.ownerUid == request.auth.uid;
    }
  }
}
```

## ×‘. ×©×™×¨×•×ª × ×ª×•× ×™× â€“ `src/services/cards.ts`

```ts
import { db } from "./fb";
import { addDoc, collection, serverTimestamp, getDocs, query, where, orderBy, deleteDoc, doc } from "firebase/firestore";
import { getAuth } from "firebase/auth";

export type Card = {
  id?: string;
  ownerUid: string;
  rawText: string;
  helpfulText: string;
  trait: string;
  agent: "MIND"|"HEART"|"BODY"|"ACTION"|"SOUL";
  createdAt?: any;
};

export async function createCard(input: Omit<Card,"ownerUid"|"createdAt">){
  const uid = getAuth().currentUser?.uid;
  if(!uid) throw new Error("×œ× ××—×•×‘×¨/×ª");
  const ref = await addDoc(collection(db,"cards"),{
    ...input,
    ownerUid: uid,
    createdAt: serverTimestamp()
  });
  return ref.id;
}

export async function listMyCards(){
  const uid = getAuth().currentUser?.uid;
  if(!uid) throw new Error("×œ× ××—×•×‘×¨/×ª");
  const q = query(collection(db,"cards"), where("ownerUid","==",uid), orderBy("createdAt","desc"));
  const snap = await getDocs(q);
  return snap.docs.map(d=>({id:d.id, ...d.data()})) as Card[];
}

export async function deleteCard(id:string){
  await deleteDoc(doc(db,"cards",id));
}
```

## ×’. ×¢×“×›×•×Ÿ ××¡×š â€œ××¡×¢ ×¨×’×©×™â€ â€“ ×©××™×¨×ª ×§×œ×£ ××—×¨×™ ×ª×©×•×‘×ª ×”â€“AI

`src/screens/JourneyScreen.tsx` (×”×—×œ×£ ××ª ×”×§×•×‘×¥ ×”×§×™×™×)

```tsx
import { useState } from "react";
import { View, TextInput, TouchableOpacity, Text, ScrollView, Alert } from "react-native";
import ChatBubble from "../components/ChatBubble";
import { bezenChat } from "../services/ai";
import { createCard } from "../services/cards";

export default function JourneyScreen(){
  const [text,setText]=useState("");
  const [log,setLog]=useState<{role:"user"|"bezen"; text:string;}[]>([]);
  const [last, setLast] = useState<any>(null);

  const onSend = async ()=>{
    if(!text.trim()) return;
    setLog(s=>[...s,{role:"user",text}]);
    const r = await bezenChat(text);
    setLog(s=>[...s,{role:"bezen", text:r.helpfulText}]);
    setLast({ rawText: text, ...r });
    setText("");
  };

  const onSave = async ()=>{
    if(!last) return;
    try{
      await createCard({
        rawText: last.rawText,
        helpfulText: last.helpfulText,
        trait: last.trait,
        agent: last.agent
      });
      Alert.alert("× ×©××¨ âœ¨","×”×§×œ×£ × ×›× ×¡ ×œâ€˜×§×œ×¤×™ ×”×ª×•×“×¢×”â€™");
      setLast(null);
    }catch(e:any){
      Alert.alert("×©×’×™××”", e.message || "× ×™×¡×™×•×Ÿ ×××•×—×¨ ×™×•×ª×¨");
    }
  };

  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fff"}}>
      <ScrollView style={{flex:1}} contentContainerStyle={{paddingVertical:8}}>
        {log.map((m,i)=><ChatBubble key={i} role={m.role} text={m.text}/>)}
      </ScrollView>

      {last && (
        <TouchableOpacity onPress={onSave} style={{padding:14, backgroundColor:"#0a7", borderRadius:12, marginBottom:8}}>
          <Text style={{color:"#fff", textAlign:"center", fontWeight:"700"}}>×©××•×¨/×™ ×›×§×œ×£</Text>
        </TouchableOpacity>
      )}

      <View style={{flexDirection:"row", gap:8}}>
        <TextInput placeholder="××” ×”××©×¤×˜ ×©×”×œ×‘ ×¨×•×¦×” ×œ×©×—×¨×¨?" value={text} onChangeText={setText}
          style={{flex:1, borderWidth:1, borderColor:"#ddd", borderRadius:12, padding:12}}/>
        <TouchableOpacity onPress={onSend} style={{paddingHorizontal:16, borderRadius:12, backgroundColor:"#0a7", justifyContent:"center"}}>
          <Text style={{color:"#fff", fontWeight:"700"}}>×©×œ×™×—×”</Text>
        </TouchableOpacity>
      </View>
    </View>
  );
}
```

## ×“. ××¡×š â€œ×§×œ×¤×™ ×”×ª×•×“×¢×”â€ â€“ ×§×¨×™××ª × ×ª×•× ×™× ×××™×ª×™×ª

`src/screens/CardsScreen.tsx` (×”×—×œ×£)

```tsx
import { useEffect, useState } from "react";
import { View, ScrollView, RefreshControl } from "react-native";
import CardItem from "../components/CardItem";
import { listMyCards } from "../services/cards";

export default function CardsScreen(){
  const [cards,setCards]=useState<any[]>([]);
  const [loading,setLoading]=useState(false);

  async function load(){
    setLoading(true);
    try{ setCards(await listMyCards()); } finally{ setLoading(false); }
  }
  useEffect(()=>{ load(); },[]);

  return (
    <View style={{flex:1, padding:16, backgroundColor:"#fafafa"}}>
      <ScrollView refreshControl={<RefreshControl refreshing={loading} onRefresh={load}/>}>
        {cards.map((c)=>(
          <CardItem key={c.id} raw={c.rawText} helpful={c.helpfulText} trait={c.trait} agent={c.agent}/>
        ))}
      </ScrollView>
    </View>
  );
}
```

---

# 2) ğŸ­ ×¡×¦× ×” ××™× ×˜×¨××§×˜×™×‘×™×ª: â€œ×“×™××œ×•×’ ×¢× ×”×¦×œâ€

## ×. ×§×•××¤×•× × ×˜×ª ×‘×—×™×¨×” ×¨×›×” â€“ `src/components/Choice.tsx`

```tsx
import { TouchableOpacity, Text } from "react-native";
export default function Choice({label,onPress}:{label:string; onPress:()=>void;}){
  return (
    <TouchableOpacity onPress={onPress} style={{padding:14, backgroundColor:"#EEF6F2", borderRadius:12, marginVertical:6}}>
      <Text style={{fontSize:16}}>{label}</Text>
    </TouchableOpacity>
  );
}
```

## ×‘. ××¡×š ×”×¡×¦× ×” â€“ `src/screens/ScenesScreen.tsx` (×”×—×œ×£)

```tsx
import { useState } from "react";
import { View, Text } from "react-native";
import Choice from "../components/Choice";

type Step = { user?: string; bezen?: string; };

export default function ScenesScreen(){
  const [steps,setSteps]=useState<Step[]>([
    { bezen: "×“××™×™×Ÿ/×™ ××ª ×”×§×•×œ ×”×‘×™×§×•×¨×ª×™ ×”×¤× ×™××™. ××™×š ×”×•× × ×©××¢?" }
  ]);

  const push = (s:Step)=>setSteps(prev=>[...prev, s]);

  const chooseTone = (tone:"×§×©×”"|"× ×™×˜×¨×œ×™"|"×—×•××œ")=>{
    push({ user: `×‘×—×™×¨×”: ×˜×•×Ÿ ${tone}` });
    if(tone==="×§×©×”"){
      push({ bezen: "×©×™×/×™ ×œ×‘ ××™×š ×”×’×•×£ ××ª×›×•×•×¥. × ×©×™××” 4â€“6. ××•×›×Ÿ/×” ×œ× ×¡×•×ª ×˜×•×Ÿ ×¢×“×™×Ÿ ×™×•×ª×¨?" });
    }else if(tone==="× ×™×˜×¨×œ×™"){
      push({ bezen: "× ×™×˜×¨×œ×™ ×”×•× ×¦×¢×“ ×˜×•×‘. ×”×× ×ª×¨×¦×”/×™ ×œ×”×•×¡×™×£ ×˜×™×¤×ª ×—××œ×”?" });
    }else{
      push({ bezen: "×™×¤×”. ××™×š ×–×” ××¨×’×™×© ×¢×›×©×™×•? ×‘×•×/×™ × ××¦× ××©×¤×˜ ××•×¢×™×œ." });
      push({ bezen: "××©×¤×˜ ×—×“×©: â€œ×× ×™ ×œ×•××“/×ª ×œ×“×‘×¨ ×œ×¢×¦××™ ×‘×¢×“×™× ×•×ª, ×’× ×›×©×§×©×”.â€ ×ª×›×•× ×”: ×—××œ×” ğŸ’š" });
    }
  };

  return (
    <View style={{flex:1, padding:20, backgroundColor:"#fff"}}>
      <Text style={{fontSize:20, fontWeight:"700", marginBottom:10}}>ğŸ­ ×“×™××œ×•×’ ×¢× ×”×¦×œ</Text>
      {steps.map((s,i)=>(
        <View key={i} style={{marginBottom:10}}>
          {s.bezen && <Text style={{color:"#333"}}>{s.bezen}</Text>}
          {s.user && <Text style={{alignSelf:"flex-end", color:"#0a7"}}>{s.user}</Text>}
        </View>
      ))}

      <View style={{marginTop:10}}>
        <Text style={{fontWeight:"600", marginBottom:6}}>×‘×—×¨/×™ ×˜×•×Ÿ ×ª×’×•×‘×”:</Text>
        <Choice label="×§×©×” / ×©×™×¤×•×˜×™" onPress={()=>chooseTone("×§×©×”")}/>
        <Choice label="× ×™×˜×¨×œ×™ / ×¢× ×™×™× ×™" onPress={()=>chooseTone("× ×™×˜×¨×œ×™")}/>
        <Choice label="×—×•××œ / ×¢×“×™×Ÿ" onPress={()=>chooseTone("×—×•××œ")}/>
      </View>

      <Text style={{marginTop:16, color:"#666"}}>×˜×™×¤: ×× ×”×’×•×£ ×”×ª×›×•×•×¥ â€“ ×—×–×•×¨/×—×–×¨×™ ×œ× ×©×™××” 4â€“6 ×œ×©×ª×™ ×“×§×•×ª.</Text>
    </View>
  );
}
```

---

# ğŸ”— â€œ×§×™×©×•×¨ ×œâ€“BEZEN-COREâ€

* Deep Links ×‘×ª×•×š ×”××¤×œ×™×§×¦×™×”:

  * ××¡×¢ ×¨×’×©×™: `bezen://core/journey`
  * ×¡×¦× ×•×ª: `bezen://core/scenes`
  * ×§×œ×¤×™×: `bezen://core/cards`
* ×“×£ ×—×™×¦×•× ×™ (×œ×”×—×œ×¤×” ×›×©×™×¢×œ×”): `https://bezen.app/experience`

*(×‘××¤×¡×˜×•×¨/×¤×œ×™×™Ö¾×¡×˜×•×¨ ×ª×•×›×œ ×œ×©×™× â€œ×§×™×©×•×¨×™ ××¤×œ×™×§×¦×™×”â€ ×›×š ×©×”Ö¾URL ×™×¤×ª×— ×™×©×™×¨×•×ª ××ª ×”×¡×¦× ×”/××¡×¢.)*

---

# âœ… ×¦â€™×§×œ×˜ ×§×¦×¨ ×œ×”×©×œ××” ×¢×›×©×™×•

* [ ] ×œ×”×’×“×™×¨ Firebase (Auth + Firestore) ×•×œ×”×“×‘×™×§ ××¤×ª×—×•×ª ×‘Ö¾`.env`
* [ ] ×œ×”×›× ×™×¡ ×—×•×§×™ ××‘×˜×—×” (Rules) ×œ××¢×œ×”
* [ ] ×œ×¤×¨×•×¡ ××ª ×©×¨×ª×•×Ÿ ×”Ö¾OpenAI (functions) ×•×œ×”×’×“×™×¨ `EXPO_PUBLIC_API_BASE`
* [ ] ×œ×”×—×œ×™×£ ×§×•×‘×¥ Lottie ×©×œ × ×©×™××” (`assets/lottie/breath.json`)
* [ ] ×œ×”×ª×—×‘×¨ ×¢× ×—×©×‘×•×Ÿ (Email/Anon) ×›×“×™ ×œ×©××•×¨ ×§×œ×¤×™× ×‘×¤×•×¢×œ

---

×× ×ª×¨×¦×” ×‘×©×œ×‘ ×”×‘×, ××•×›×œ ×œ×”×•×¡×™×£:

* **×”×ª×¨××•×ª ×™×•××™×•×ª** (Expo Notifications) ×¢× â€œ× ×©×™××” 1 ×“×§×”â€ ×‘×œ×—×™×¦×”.
* **×©×™×ª×•×£ ×§×œ×£ ×œ×ª××•× ×”** (×™×¦×™×¨×ª ×›×¨×˜×™×¡ ××¢×•×¦×‘ ×œ×©×™×ª×•×£).
* **×¤×¨×•×’×¨×¡ ×¨×š** (â€œ×¨×¦×£ × ×©×™××•×ªâ€, â€œ×§×œ×£ ××•×–×”×‘â€).

×× ×™ ×›××Ÿ ×•×××©×™×š ××™×ª×š ×™×“ ×‘×™×“. × ×©×™××” ××—×ª â€” ×•×× ×—× ×• ×‘×¤× ×™× ğŸŒ¿
